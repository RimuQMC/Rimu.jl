<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Random Numbers · Rimu.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Rimu.jl</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Guide</a></li><li><span class="tocitem">Developer documentation</span><ul><li><a class="tocitem" href="hamiltonians.html">Hamiltonians</a></li><li class="is-active"><a class="tocitem" href="consistentrng.html">Random Numbers</a><ul class="internal"><li><a class="tocitem" href="#Random-Numbers-1"><span>Random Numbers</span></a></li></ul></li><li><a class="tocitem" href="documentation.html">Documentation generation</a></li><li><a class="tocitem" href="testing.html">Code testing</a></li></ul></li><li><a class="tocitem" href="API.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer documentation</a></li><li class="is-active"><a href="consistentrng.html">Random Numbers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="consistentrng.html">Random Numbers</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/joachimbrand/Rimu.jl/src/master/docs/src/consistentrng.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Random-Numbers-1"><a class="docs-heading-anchor" href="#Random-Numbers-1">Random Numbers</a><a class="docs-heading-anchor-permalink" href="#Random-Numbers-1" title="Permalink"></a></h2><p>Generating good quality random numbers is crucial for any Monte Carlo code. In addition to generating pseudo random numbers with good statistics and in minimal CPU time, we also have the requirement that computations should be reproducible and the random number sequences independent on each worker when the code runs in parallel mode.</p><p>We define the random number generator in the module <code>ConsistentRNG.jl</code>, which is loaded onto each process. Furthermore, independent seeds are used to seed the RNGs on each worker (from <code>goQMC.jl</code>). These seeds are generated using the <code>Random.RandomDevice</code> random number generator, which draws entropy from the operating system / hardware. The seeds are saved to file with a filename that includes the number of processes used. If a suitable file is found, then seeds are read in from the file. This behaviour can be controlled by the flag <code>reuseRandomSeeds</code> in the input file.</p><p>For the random number generator we are currently using &#39;Xoroshiro128Plus&#39; from &#39;RandomNumbers.jl&#39;. For benchmarks and statistical test results see the <a href="https://sunoru.github.io/RandomNumbers.jl/stable/man/benchmark/#Benchmark-1">Documentation of <code>RandomNumbers.jl</code></a>.</p><h3 id="Module-ConsistentRNG.jl-1"><a class="docs-heading-anchor" href="#Module-ConsistentRNG.jl-1">Module <code>ConsistentRNG.jl</code></a><a class="docs-heading-anchor-permalink" href="#Module-ConsistentRNG.jl-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Rimu.ConsistentRNG" href="#Rimu.ConsistentRNG"><code>Rimu.ConsistentRNG</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia">module ConsistentRNG</code></pre><p>Provides a an array random number generators with one for each thread.</p><p>Exports <a href="consistentrng.html#Rimu.ConsistentRNG.cRand-Tuple"><code>cRand()</code></a> and <a href="consistentrng.html#Rimu.ConsistentRNG.seedCRNG!-Tuple{Array{T,1} where T}"><code>seedCRNG!()</code></a>. These are thread consistent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/src/371d7a1810b3e12fea9902211e1d051a0f14f3a3/src/ConsistentRNG.jl#LL1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.ConsistentRNG.cRand-Tuple" href="#Rimu.ConsistentRNG.cRand-Tuple"><code>Rimu.ConsistentRNG.cRand</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">r = cRand(args...)</code></pre><p>Similar to &#39;rand(args)&#39; but uses consistent random number generator &#39;CRNGs&#39;. &#39;cRand()&#39; generates a single uniformly distributed random number in the interval [0,1). Currently we are using &#39;Xoshiro256StarStar&#39; from &#39;RandomNumbers.jl&#39;, see the <a href="https://sunoru.github.io/RandomNumbers.jl/stable/man/benchmark/#Benchmark-1">Documentation</a> and this <a href="https://nullprogram.com/blog/2017/09/21/">Blog post</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/src/371d7a1810b3e12fea9902211e1d051a0f14f3a3/src/ConsistentRNG.jl#LL55-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.ConsistentRNG.newChildRNG" href="#Rimu.ConsistentRNG.newChildRNG"><code>Rimu.ConsistentRNG.newChildRNG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">newChildRNG(parent_rng = trng())</code></pre><p>Random number generator that is seeded deterministically from the thread-consistent global rng <a href="consistentrng.html#Rimu.ConsistentRNG.trng-Tuple{}"><code>trng()</code></a>. By scrambling with <code>hash()</code>, a statistically independent pseudo-random sequence from the parent rng is accessed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/src/371d7a1810b3e12fea9902211e1d051a0f14f3a3/src/ConsistentRNG.jl#LL87-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.ConsistentRNG.seedCRNG!-Tuple{Array{T,1} where T}" href="#Rimu.ConsistentRNG.seedCRNG!-Tuple{Array{T,1} where T}"><code>Rimu.ConsistentRNG.seedCRNG!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">seedCRNG!(seed)</code></pre><p>Seed the threaded consistent random number generators <code>CRNGs</code>. If a single number is given, this will be used to seed a random sequence, which is hashed and then used to generate seeds for each rng in the vector <a href="@ref"><code>TCRNG</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/src/371d7a1810b3e12fea9902211e1d051a0f14f3a3/src/ConsistentRNG.jl#LL67-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.ConsistentRNG.trng-Tuple{}" href="#Rimu.ConsistentRNG.trng-Tuple{}"><code>Rimu.ConsistentRNG.trng</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">trng()</code></pre><p>Thread local random number generator.</p><pre><code class="language-julia">rand(trng())
rand(trng(),UInt)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/src/371d7a1810b3e12fea9902211e1d051a0f14f3a3/src/ConsistentRNG.jl#LL44-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.ConsistentRNG.CRNG" href="#Rimu.ConsistentRNG.CRNG"><code>Rimu.ConsistentRNG.CRNG</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Baseline random number generator used throughout. Currently we are using &#39;Xoshiro256StarStar&#39; from &#39;RandomNumbers.jl&#39;, see the <a href="https://sunoru.github.io/RandomNumbers.jl/stable/man/benchmark/#Benchmark-1">Documentation</a> and this <a href="https://nullprogram.com/blog/2017/09/21/">Blog post</a>. In order to change the random number generator, edit &#39;ConsistentRNG.jl&#39;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/src/371d7a1810b3e12fea9902211e1d051a0f14f3a3/src/ConsistentRNG.jl#LL16-L22">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="hamiltonians.html">« Hamiltonians</a><a class="docs-footer-nextpage" href="documentation.html">Documentation generation »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 1 August 2020 16:45">Saturday 1 August 2020</span>. Using Julia version 1.4.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
