<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Dict vectors · Rimu.jl</title><meta name="title" content="Dict vectors · Rimu.jl"/><meta property="og:title" content="Dict vectors · Rimu.jl"/><meta property="twitter:title" content="Dict vectors · Rimu.jl"/><meta name="description" content="Documentation for Rimu.jl."/><meta property="og:description" content="Documentation for Rimu.jl."/><meta property="twitter:description" content="Documentation for Rimu.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Rimu.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Rimu.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Guide</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="generated/BHM-example.html">1D Bose-Hubbard Model</a></li><li><a class="tocitem" href="generated/BHM-example-mpi.html">Rimu with MPI</a></li><li><a class="tocitem" href="generated/G2-example.html">Calculating observables</a></li><li><a class="tocitem" href="generated/exact-example.html">Exact diagonalization</a></li><li><a class="tocitem" href="generated/HO-example.html">Degenerate perturbation theory in a harmonic oscillator basis</a></li></ul></li><li><span class="tocitem">User documentation</span><ul><li><a class="tocitem" href="exactdiagonalization.html">Exact Diagonalization</a></li><li><a class="tocitem" href="projectormontecarlo.html">Projector Monte Carlo</a></li><li><a class="tocitem" href="statstools.html">StatsTools</a></li><li><a class="tocitem" href="mpi.html">Using MPI</a></li></ul></li><li><span class="tocitem">Developer documentation</span><ul><li><a class="tocitem" href="interfaces.html">Interfaces</a></li><li><a class="tocitem" href="hamiltonians.html">Hamiltonians</a></li><li class="is-active"><a class="tocitem" href="dictvectors.html">Dict vectors</a><ul class="internal"><li><a class="tocitem" href="#Concrete-implementations"><span>Concrete implementations</span></a></li><li><a class="tocitem" href="#Interface-functions"><span>Interface functions</span></a></li><li><a class="tocitem" href="#Supported-operations"><span>Supported operations</span></a></li><li><a class="tocitem" href="#Projectors"><span>Projectors</span></a></li><li><a class="tocitem" href="#Initiator-rules"><span>Initiator rules</span></a></li><li><a class="tocitem" href="#PDVec-internals"><span><code>PDVec</code> internals</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="addresses.html">BitString addresses</a></li><li><a class="tocitem" href="stochasticstyles.html">Stochastic styles</a></li><li><a class="tocitem" href="RMPI.html">RMPI</a></li><li><a class="tocitem" href="rimuio.html">I/O</a></li><li><a class="tocitem" href="randomnumbers.html">Random numbers</a></li><li><a class="tocitem" href="documentation.html">Documentation generation</a></li><li><a class="tocitem" href="testing.html">Code testing</a></li></ul></li><li><a class="tocitem" href="API.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer documentation</a></li><li class="is-active"><a href="dictvectors.html">Dict vectors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="dictvectors.html">Dict vectors</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/joachimbrand/Rimu.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/joachimbrand/Rimu.jl/blob/develop/docs/src/dictvectors.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Module-DictVectors"><a class="docs-heading-anchor" href="#Module-DictVectors">Module <code>DictVectors</code></a><a id="Module-DictVectors-1"></a><a class="docs-heading-anchor-permalink" href="#Module-DictVectors" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors" href="#Rimu.DictVectors"><code>Rimu.DictVectors</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Module that provides concrete implementations of the <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a> interface.</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>: basic <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>: parallel <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a> with MPI and initiator support</li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>: allows storing information about initiator status</li></ul><p>See <a href="API.html#Interfaces"><code>Interfaces</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/DictVectors.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.AbstractDVec" href="#Rimu.Interfaces.AbstractDVec"><code>Rimu.Interfaces.AbstractDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractDVec{K,V}</code></pre><p>Abstract data type for vector-like data structures with sparse storage. While conceptually <code>AbstractDVec</code>s represent elements of a vector space over a scalar type <code>V</code>, they are indexed by an arbitrary type <code>K</code> (could be non-integers) similar to dictionaries. They support the interface from <a href="https://github.com/Jutho/VectorInterface.jl">VectorInterface.jl</a> and are designed to work well for quantum Monte Carlo with <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a> and for matrix-free linear algebra with <a href="https://github.com/Jutho/KrylovKit.jl">KrylovKit</a>.</p><p>Concrete implementations are available as <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>.</p><p><code>AbstractDVec</code>s have a <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> which selects the spawning algorithm in <code>FCIQMC</code>. Looking up an element that is not stored in the <code>AbstractDVec</code> should return a zero, and setting a value to zero should remove it from the vector. To iterate over an <code>AbstractDVec</code>, use <code>keys</code>, <code>pairs</code>, or <code>values</code>. When possible, use reduction functions such as <code>sum</code> or <code>mapreduce</code>.</p><p><strong>Interface</strong></p><p>The interface is similar to the <code>AbstractDict</code> interface, but with the changed behaviour as noted above.  Implement what would be needed for the <code>AbstractDict</code> interface (<code>pairs</code>, <code>keys</code>, <code>values</code>, <code>setindex!</code>, <code>getindex</code>, <code>delete!</code>, <code>length</code>, <code>empty</code>, <code>empty!</code>) and, in addition:</p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.storage"><code>storage</code></a> returns an <code>AbstractDict</code> storing the raw data with possibly different <code>valtype</code> than <code>V</code>.</li><li><a href="dictvectors.html#Rimu.Interfaces.deposit!"><code>deposit!</code></a></li></ul><p>A default implementation for the <a href="https://github.com/Jutho/VectorInterface.jl">VectorInterface.jl</a> interface is provided through the above functions.</p><p>See also <a href="dictvectors.html#Rimu.DictVectors"><code>DictVectors</code></a>, <a href="API.html#Interfaces"><code>Interfaces</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L1-L39">source</a></section></article><h2 id="Concrete-implementations"><a class="docs-heading-anchor" href="#Concrete-implementations">Concrete implementations</a><a id="Concrete-implementations-1"></a><a class="docs-heading-anchor-permalink" href="#Concrete-implementations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.DVec" href="#Rimu.DictVectors.DVec"><code>Rimu.DictVectors.DVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DVec{K,V,D&lt;:AbstractDict{K,V},S}</code></pre><p>Dictionary-based vector-like data structure for use with FCIQMC and <a href="https://github.com/Jutho/KrylovKit.jl">KrylovKit</a>. While mostly behaving like a <code>Dict</code>, it supports various linear algebra operations such as <code>norm</code> and <code>dot</code>. It has a <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> that is used to select an appropriate spawning strategy in the FCIQMC algorithm.</p><p>See also: <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>.</p><p><strong>Constructors</strong></p><ul><li><p><code>DVec(dict::AbstractDict[; style, capacity])</code>: create a <code>DVec</code> with <code>dict</code> for storage. Note that the data may or may not be copied.</p></li><li><p><code>DVec(args...[; style, capacity])</code>: <code>args...</code> are passed to the <code>Dict</code> constructor. The <code>Dict</code> is used for storage.</p></li><li><p><code>DVec{K,V}([; style, capacity])</code>: create an empty <code>DVec{K,V}</code>.</p></li><li><p><code>DVec(dv::AbstractDVec[; style, capacity])</code>: create a <code>DVec</code> with the same contents as  <code>adv</code>. The <code>style</code> is inherited from <code>dv</code> by default.</p></li></ul><p>The default <code>style</code> is selected based on the <code>DVec</code>&#39;s <code>valtype</code> (see <a href="stochasticstyles.html#Rimu.Interfaces.default_style"><code>default_style</code></a>). If a style is given and the <code>valtype</code> does not match the <code>style</code>&#39;s <code>eltype</code>, the values are converted to an appropriate type.</p><p>The capacity argument is optional and sets the initial size of the <code>DVec</code> via <code>Base.sizehint!</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; dv = DVec(:a =&gt; 1)
DVec{Symbol,Int64} with 1 entry, style = IsStochasticInteger{Int64}()
  :a =&gt; 1

julia&gt; dv = DVec(:a =&gt; 2, :b =&gt; 3; style=IsDeterministic())
DVec{Symbol,Float64} with 2 entries, style = IsDeterministic{Float64}()
  :a =&gt; 2.0
  :b =&gt; 3.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/dvec.jl#L1-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.InitiatorDVec" href="#Rimu.DictVectors.InitiatorDVec"><code>Rimu.DictVectors.InitiatorDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InitiatorDVec{K,V} &lt;: AbstractDVec{K,V}</code></pre><p>Dictionary-based vector-like data structure for use with <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a> and <a href="https://github.com/Jutho/KrylovKit.jl"><code>KrylovKit.jl</code></a>. See <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>. Functionally identical to <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>, but contains <a href="dictvectors.html#Rimu.DictVectors.InitiatorValue"><code>InitiatorValue</code></a>s internally in order to facilitate initiator methods. Initiator methods for controlling the Monte Carlo sign problem were first introduced in <a href="https://doi.org/10.1063/1.3302277">J. Chem. Phys. 132, 041103 (2010)</a>. How the initiators are handled is controlled by specifying an <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a> with the <code>initiator</code> keyword argument (see below).</p><p>See also: <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>.</p><p><strong>Constructors</strong></p><ul><li><p><code>InitiatorDVec(dict::AbstractDict[; style, initiator, capacity])</code>: create an <code>InitiatorDVec</code> with <code>dict</code> for storage.  Note that the data may or may not be copied.</p></li><li><p><code>InitiatorDVec(args...[; style, initiator, capacity])</code>: <code>args...</code> are passed to the <code>Dict</code> constructor. The <code>Dict</code> is used for storage.</p></li><li><p><code>InitiatorDVec{K,V}([; style, initiator, capacity])</code>: create an empty <code>InitiatorDVec{K,V}</code>.</p></li><li><p><code>InitiatorDVec(dv::AbstractDVec[; style, initiator, capacity])</code>: create an <code>InitiatorDVec</code>  with the same contents as <code>dv</code>. The <code>style</code> is inherited from <code>dv</code> by default.</p></li></ul><p><strong>Keyword  arguments</strong></p><ul><li><p><code>style</code>: A valid <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.  The default is selected based on the <code>InitiatorDVec</code>&#39;s <code>valtype</code> (see <a href="stochasticstyles.html#Rimu.Interfaces.default_style"><code>default_style</code></a>). If a style is given and the <code>valtype</code> does not match the <code>style</code>&#39;s <code>eltype</code>, the values are converted to an appropriate type.</p></li><li><p><code>initiator = Initiator(1)</code>: A valid <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>. See <a href="dictvectors.html#Rimu.DictVectors.Initiator"><code>Initiator</code></a>.</p></li><li><p><code>capacity</code>: Indicative size as <code>Int</code>. Optional. Sets the initial size of the <code>InitiatorDVec</code> via <code>Base.sizehint!</code>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiatordvec.jl#L1-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.PDVec" href="#Rimu.DictVectors.PDVec"><code>Rimu.DictVectors.PDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PDVec{K,V}(; kwargs...)
PDVec(iter; kwargs...)
PDVec(pairs...; kwargs...)</code></pre><p>Dictionary-based vector-like data structure for use with FCIQMC and <a href="https://github.com/Jutho/KrylovKit.jl">KrylovKit.jl</a>. While mostly behaving like a <code>Dict</code>, it supports various linear algebra operations such as <code>norm</code> and <code>dot</code>, and the interface defined in <a href="https://github.com/Jutho/VectorInterface.jl">VectorInterface</a>.</p><p>The P in <code>PDVec</code> stands for parallel. <code>PDVec</code>s perform <code>mapreduce</code>, <code>foreach</code>, and various linear algebra operations in a threaded manner. If MPI is available, these operations are automatically distributed as well. As such it is not recommended to iterate over <code>pairs</code>, <code>keys</code>, or <code>values</code> directly unless explicitly performing them on the <a href="dictvectors.html#Rimu.Interfaces.localpart"><code>localpart</code></a> of the vector.</p><p>See also: <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>.</p><p><strong>Keyword arguments</strong></p><ul><li><p><code>style =</code><a href="stochasticstyles.html#Rimu.Interfaces.default_style"><code>default_style</code></a><code>(V)</code>: A <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> that is used to select the spawning strategy in the FCIQMC algorithm.</p></li><li><p><code>initiator =</code><a href="dictvectors.html#Rimu.DictVectors.NonInitiator"><code>NonInitiator</code></a><code>()</code>: An <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>, used in FCIQMC to remove the sign problem.</p></li><li><p><code>communicator</code>: A <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> that controls how operations are performed when using MPI. The defaults are <a href="dictvectors.html#Rimu.DictVectors.NotDistributed"><code>NotDistributed</code></a> when not using MPI and <a href="dictvectors.html#Rimu.DictVectors.AllToAll"><code>AllToAll</code></a> when using MPI.</p></li></ul><p><strong>Extended Help</strong></p><p><strong>Segmentation</strong></p><p>The vector is split into <code>Threads.nthreads()</code> subdictionaries called segments. Which dictionary a key-value pair is mapped to is determined by the hash of the key. The purpose of this segmentation is to allow parallel processing - functions such as <code>mapreduce</code>, <code>add!</code> or <code>dot</code> (full list below) process each subdictionary on a separate thread.</p><p>See also <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; add = FermiFS2C((1,1,0,0), (0,0,1,1));

julia&gt; op = HubbardMom1D(add; t=4/π^2, u=4);

julia&gt; pv = PDVec(add =&gt; 1.0)
1-element PDVec: style = IsDeterministic{Float64}()
  fs&quot;|↑↑↓↓⟩&quot; =&gt; 1.0

julia&gt; pv = op * pv
7-element PDVec: style = IsDeterministic{Float64}()
  fs&quot;|↑↓↑↓⟩&quot; =&gt; 1.0
  fs&quot;|↑↑↓↓⟩&quot; =&gt; 4.0
  fs&quot;|↓↑↓↑⟩&quot; =&gt; 1.0
  fs&quot;|↓↑↑↓⟩&quot; =&gt; -1.0
  fs&quot;|⇅⋅⋅⇅⟩&quot; =&gt; 1.0
  fs&quot;|↑↓↓↑⟩&quot; =&gt; -1.0
  fs&quot;|⋅⇅⇅⋅⟩&quot; =&gt; 1.0

julia&gt; scale!(pv, -1); pv
7-element PDVec: style = IsDeterministic{Float64}()
  fs&quot;|↑↓↑↓⟩&quot; =&gt; -1.0
  fs&quot;|↑↑↓↓⟩&quot; =&gt; -4.0
  fs&quot;|↓↑↓↑⟩&quot; =&gt; -1.0
  fs&quot;|↓↑↑↓⟩&quot; =&gt; 1.0
  fs&quot;|⇅⋅⋅⇅⟩&quot; =&gt; -1.0
  fs&quot;|↑↓↓↑⟩&quot; =&gt; 1.0
  fs&quot;|⋅⇅⇅⋅⟩&quot; =&gt; -1.0

julia&gt; dest = similar(pv)
0-element PDVec: style = IsDeterministic{Float64}()

julia&gt; map!(x -&gt; x + 2, dest, values(pv))
7-element PDVec: style = IsDeterministic{Float64}()
  fs&quot;|↑↓↑↓⟩&quot; =&gt; 1.0
  fs&quot;|↑↑↓↓⟩&quot; =&gt; -2.0
  fs&quot;|↓↑↓↑⟩&quot; =&gt; 1.0
  fs&quot;|↓↑↑↓⟩&quot; =&gt; 3.0
  fs&quot;|⇅⋅⋅⇅⟩&quot; =&gt; 1.0
  fs&quot;|↑↓↓↑⟩&quot; =&gt; 3.0
  fs&quot;|⋅⇅⇅⋅⟩&quot; =&gt; 1.0

julia&gt; sum(values(pv))
-6.0

julia&gt; dot(dest, pv)
10.0

julia&gt; dot(dest, op, pv)
44.0</code></pre><p><strong>MPI</strong></p><p>When MPI is active, all parallel reductions are automatically reduced across MPI ranks with a call to <code>MPI.Allreduce!</code>.</p><p>In a distributed setting, <code>PDVec</code> does not support iteration without first making it explicit the iteration is only to be performed on the local segments of the vector. This is done with <a href="dictvectors.html#Rimu.Interfaces.localpart"><code>localpart</code></a>. In general, even when not using MPI, it is best practice to use <a href="dictvectors.html#Rimu.Interfaces.localpart"><code>localpart</code></a> when explicit iteration is required.</p><p><strong>Use with KrylovKit</strong></p><p><code>PDVec</code> is compatible with <code>eigsolve</code> from <a href="https://github.com/Jutho/KrylovKit.jl">KrylovKit.jl</a>. When used, the diagonalisation is performed in a threaded and distributed manner. Using multiple MPI ranks with this method does not distribute the memory load effectively, but does result in significant speedups.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; using KrylovKit

julia&gt; add = BoseFS((0,0,5,0,0));

julia&gt; op = HubbardMom1D(add; u=6.0);

julia&gt; pv = PDVec(add =&gt; 1.0);

julia&gt; results = eigsolve(op, pv, 4, :SR);

julia&gt; results[1][1:4]
4-element Vector{Float64}:
 -3.4311156892322234
  1.1821748602612363
  3.7377753753082823
  6.996390417443125</code></pre><p><strong>Parallel functionality</strong></p><p>The following functions are threaded and MPI-compatible:</p><ul><li>From Base: <code>mapreduce</code> and derivatives (<code>sum</code>, <code>prod</code>, <code>reduce</code>...), <code>all</code>, <code>any</code>,<code>map!</code> (on <code>values</code> only), <code>+</code>, <code>-</code>, <code>*</code></li><li>From LinearAlgebra: <code>rmul!</code>, <code>lmul!</code>, <code>mul!</code>, <code>axpy!</code>, <code>axpby!</code>, <code>dot</code>, <code>norm</code>, <code>normalize</code>, <code>normalize!</code></li><li>The full interface defined in <a href="https://github.com/Jutho/VectorInterface.jl">VectorInterface.jl</a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdvec.jl#L11-L155">source</a></section></article><h2 id="Interface-functions"><a class="docs-heading-anchor" href="#Interface-functions">Interface functions</a><a id="Interface-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Interface-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.deposit!" href="#Rimu.Interfaces.deposit!"><code>Rimu.Interfaces.deposit!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">deposit!(w::InitiatorDVec, add, val, p_add=&gt;p_val)</code></pre><p>Add <code>val</code> into <code>w</code> at address <code>add</code> as an <a href="dictvectors.html#Rimu.DictVectors.AbstractInitiatorValue"><code>AbstractInitiatorValue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiatordvec.jl#L182-L185">source</a></section><section><div><pre><code class="language-julia hljs">deposit!(w::AbstractDVec, add, val, parent::Pair)</code></pre><p>Add <code>val</code> into <code>w</code> at address <code>add</code>, taking into account initiator rules if applicable. <code>parent</code> contains the <code>address =&gt; value</code> pair from which the pair <code>add =&gt; val</code> was created. <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a> can intercept this and add its own functionality.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L42-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.storage" href="#Rimu.Interfaces.storage"><code>Rimu.Interfaces.storage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">storage(dvec) -&gt; AbstractDict</code></pre><p>Return the raw storage associated with <code>dvec</code> as an <code>AbstractDict</code>. Used in MPI communication.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L63-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OrderedCollections.freeze" href="#OrderedCollections.freeze"><code>OrderedCollections.freeze</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">freeze(dv)</code></pre><p>Create a &quot;frozen&quot; version of <code>dv</code> which can no longer be modified or used in the conventional manner, but supports faster dot products.</p><p>If <code>dv</code> is an <a href="RMPI.html#Rimu.RMPI.MPIData"><code>MPIData</code></a>, synchronize its contents among the ranks first.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L73-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.localpart" href="#Rimu.Interfaces.localpart"><code>Rimu.Interfaces.localpart</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">localpart(dv) -&gt; AbstractDVec</code></pre><p>Get the part of <code>dv</code> that is located on this MPI rank. Returns <code>dv</code> itself for vectors that can&#39;t be MPI distributed (<a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>s and <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>s).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.apply_operator!" href="#Rimu.Interfaces.apply_operator!"><code>Rimu.Interfaces.apply_operator!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">apply_operator!(working_memory, target, source, operator, boost=1, compress=Val(true)) -&gt;
    stat_names, stats, working_memory, target</code></pre><p>Perform a single matrix(/operator)-vector multiplication:</p><p class="math-container">\[v^{(n + 1)} = \hat{T} v^{(n)} ,\]</p><p>where <span>$\hat{T}$</span> is the <code>operator</code>, <span>$v^{(n+1)}$</span> is the <code>target</code> and <span>$v^{(n)}$</span> is the <code>source</code>. The <code>working_memory</code> can be used as temporary storage.</p><p>The <code>boost</code> argument is passed to <a href="stochasticstyles.html#Rimu.Interfaces.apply_column!"><code>apply_column!</code></a> and increases the number of spawns performed. For the operator to be applied without compressing the vector after, set <code>compress</code> to <code>Val(false)</code>.</p><p>Whether the operation is performed in a stochastic, semistochastic, or determistic way is controlled by the trait <code>StochasticStyle(target)</code>. See <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p><p>Returns the step stats generated by the <code>StochasticStyle</code>, the working memory and the <code>target</code> vector. <code>target</code> and <code>working_memory</code> may be mutated and/or swapped.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L91-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.sort_into_targets!" href="#Rimu.Interfaces.sort_into_targets!"><code>Rimu.Interfaces.sort_into_targets!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sort_into_targets!(target, source, stats) -&gt; target, source, agg_stats</code></pre><p>Aggregate coefficients from <code>source</code> to <code>target</code> and from <code>stats</code> to <code>agg_stats</code> according to thread- or MPI-level parallelism.</p><p>Returns the new <code>target</code> and <code>source</code>, as the sorting process may involve swapping them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L144-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.working_memory" href="#Rimu.Interfaces.working_memory"><code>Rimu.Interfaces.working_memory</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">working_memory(dv::AbstractDVec)</code></pre><p>Create a working memory instance compatible with <code>dv</code>. The working memory must be compatible with <a href="dictvectors.html#Rimu.Interfaces.sort_into_targets!"><code>sort_into_targets!</code></a> and <a href="dictvectors.html#Rimu.Interfaces.apply_operator!"><code>apply_operator!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/dictvectors.jl#L83-L88">source</a></section></article><h2 id="Supported-operations"><a class="docs-heading-anchor" href="#Supported-operations">Supported operations</a><a id="Supported-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-operations" title="Permalink"></a></h2><p><a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>s generally support most operations that are defined on <code>Vector</code>s and <code>Dict</code>s. This includes the interface from <a href="https://github.com/Jutho/VectorInterface.jl">VectorInterface.jl</a>, and many functions from the LinearAlgebra standard library.</p><p>A significant difference between <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>s, <code>Vector</code>s, and <code>Dict</code>s, is that iteration on them is disabled by default. Iteration must be explicitly performed on <code>keys</code>, <code>values</code>, or <code>pairs</code>, however, it is highly recommended you use <code>mapreduce</code>, <code>reduce</code>, or similar functions when performing reductions, as that will make the operations compatible with MPI.</p><p>In addition, Rimu defines the following function.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.walkernumber" href="#Rimu.DictVectors.walkernumber"><code>Rimu.DictVectors.walkernumber</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">walkernumber(md::MPIData)</code></pre><p>Compute the walkernumber of the distributed data on every MPI rank with <code>MPI.Allreduce</code>. MPI syncronizing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/RMPI/mpidata.jl#L150-L155">source</a></section><section><div><pre><code class="language-julia hljs">walkernumber(v)</code></pre><p>Compute the number of walkers in <code>v</code>. It is used for updating the shift. Overload this function for modifying population control.</p><p>In most cases <code>walkernumber(v)</code> is identical to <code>norm(v, 1)</code>. For <code>AbstractDVec</code>s with complex coefficients it reports the one norm separately for the real and the imaginary part as a <code>ComplexF64</code>. See <a href="dictvectors.html#Rimu.DictVectors.Norm1ProjectorPPop"><code>Norm1ProjectorPPop</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/abstractdvec.jl#L239-L248">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.walkernumber_and_length" href="#Rimu.DictVectors.walkernumber_and_length"><code>Rimu.DictVectors.walkernumber_and_length</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">walkernumber_and_length(v)</code></pre><p>Compute <a href="dictvectors.html#Rimu.DictVectors.walkernumber"><code>walkernumber</code></a> and <code>length</code> at the same time. When MPI is used, this is more efficient than calling them separately.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/abstractdvec.jl#L255-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.dot_from_right" href="#Rimu.Interfaces.dot_from_right"><code>Rimu.Interfaces.dot_from_right</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dot_from_right(w, op::AbstractOperator, v)</code></pre><p>Internal function evaluates the 3-argument <code>dot()</code> function in order from right to left.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/Interfaces/hamiltonians.jl#L96-L101">source</a></section></article><h2 id="Projectors"><a class="docs-heading-anchor" href="#Projectors">Projectors</a><a id="Projectors-1"></a><a class="docs-heading-anchor-permalink" href="#Projectors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.AbstractProjector" href="#Rimu.DictVectors.AbstractProjector"><code>Rimu.DictVectors.AbstractProjector</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract supertype for projectors to be used in in lieu of DVecs or Vectors in <code>dot</code> products. Implemented subtypes:</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.UniformProjector"><code>UniformProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NormProjector"><code>NormProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm2Projector"><code>Norm2Projector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm1ProjectorPPop"><code>Norm1ProjectorPPop</code></a></li></ul><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a> for use of projectors in <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>.</p><p><strong>Interface</strong></p><p>Define a method for <code>LinearAlgebra.dot(projector, v)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/projectors.jl#L4-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.NormProjector" href="#Rimu.DictVectors.NormProjector"><code>Rimu.DictVectors.NormProjector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NormProjector() &lt;: AbstractProjector</code></pre><p>Results in computing the one-norm when used in <code>dot()</code>. E.g.</p><pre><code class="language-julia hljs">dot(NormProjector(),x)
-&gt; norm(x,1)</code></pre><p><code>NormProjector()</code> thus represents the vector <code>sign.(x)</code>.</p><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/projectors.jl#L53-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.Norm2Projector" href="#Rimu.DictVectors.Norm2Projector"><code>Rimu.DictVectors.Norm2Projector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Norm2Projector() &lt;: AbstractProjector</code></pre><p>Results in computing the two-norm when used in <code>dot()</code>. E.g.</p><pre><code class="language-julia hljs">dot(NormProjector(),x)
-&gt; norm(x,2) # with type Float64</code></pre><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/projectors.jl#L69-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.UniformProjector" href="#Rimu.DictVectors.UniformProjector"><code>Rimu.DictVectors.UniformProjector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UniformProjector() &lt;: AbstractProjector</code></pre><p>Represents a vector with all elements 1. To be used with <a href="hamiltonians.html#LinearAlgebra.dot"><code>dot()</code></a>. Minimizes memory allocations.</p><pre><code class="language-julia hljs">UniformProjector()⋅v == sum(v)
dot(UniformProjector(), LO, v) == sum(LO*v)</code></pre><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/projectors.jl#L25-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.Norm1ProjectorPPop" href="#Rimu.DictVectors.Norm1ProjectorPPop"><code>Rimu.DictVectors.Norm1ProjectorPPop</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Norm1ProjectorPPop() &lt;: AbstractProjector</code></pre><p>Results in computing the one-norm per population when used in <code>dot()</code>. E.g.</p><pre><code class="language-julia hljs">dot(Norm1ProjectorPPop(),x)
-&gt; norm(real.(x),1) + im*norm(imag.(x),1)</code></pre><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/projectors.jl#L86-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.FrozenDVec" href="#Rimu.DictVectors.FrozenDVec"><code>Rimu.DictVectors.FrozenDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FrozenDVec</code></pre><p>A frozen <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>(s) can&#39;t be modified or used in the conventional manner, but support faster dot products. See: <a href="dictvectors.html#OrderedCollections.freeze"><code>freeze</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/projectors.jl#L135-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.FrozenPDVec" href="#Rimu.DictVectors.FrozenPDVec"><code>Rimu.DictVectors.FrozenPDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FrozenPDVec</code></pre><p>Parallel version of <a href="dictvectors.html#Rimu.DictVectors.FrozenDVec"><code>FrozenDVec</code></a>. See: <a href="dictvectors.html#OrderedCollections.freeze"><code>freeze</code></a>, <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdvec.jl#L866-L870">source</a></section></article><h2 id="Initiator-rules"><a class="docs-heading-anchor" href="#Initiator-rules">Initiator rules</a><a id="Initiator-rules-1"></a><a class="docs-heading-anchor-permalink" href="#Initiator-rules" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.InitiatorRule" href="#Rimu.DictVectors.InitiatorRule"><code>Rimu.DictVectors.InitiatorRule</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InitiatorRule{V}</code></pre><p>Abstract type for defining initiator rules for <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. Concrete implementations:</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.Initiator"><code>Initiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.SimpleInitiator"><code>SimpleInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.CoherentInitiator"><code>CoherentInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NonInitiator"><code>NonInitiator</code></a></li></ul><p><strong>Extended Help</strong></p><p><code>InitiatorRule</code>s define how to store and retrieve data from associated <a href="dictvectors.html#Rimu.DictVectors.AbstractInitiatorValue"><code>AbstractInitiatorValue</code></a>s. When defining a new <code>InitiatorRule</code>, also define the following:</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.initiator_valtype"><code>initiator_valtype</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.from_initiator_value"><code>from_initiator_value</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.to_initiator_value"><code>to_initiator_value</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L73-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.AbstractInitiatorValue" href="#Rimu.DictVectors.AbstractInitiatorValue"><code>Rimu.DictVectors.AbstractInitiatorValue</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractInitiatorValue{V}</code></pre><p>A value equipped with additional information that enables a variation of the initiator approximation. To be used with <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a> and <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>s.</p><p>Must define:</p><ul><li><code>Base.zero</code>, <code>Base.:+</code>, <code>Base.:-</code>, <code>Base.:*</code></li><li><a href="dictvectors.html#Rimu.DictVectors.from_initiator_value"><code>from_initiator_value</code></a> and <a href="dictvectors.html#Rimu.DictVectors.to_initiator_value"><code>to_initiator_value</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.InitiatorValue" href="#Rimu.DictVectors.InitiatorValue"><code>Rimu.DictVectors.InitiatorValue</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InitiatorValue{V}(; safe::V, unsafe::V, initiator::V) where V</code></pre><p>Composite &quot;walker&quot; with three fields. For use with <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L18-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.initiator_valtype" href="#Rimu.DictVectors.initiator_valtype"><code>Rimu.DictVectors.initiator_valtype</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initiator_valtype(rule::InitiatorRule, T)</code></pre><p>Return the <a href="dictvectors.html#Rimu.DictVectors.AbstractInitiatorValue"><code>AbstractInitiatorValue{T}</code></a> that is employed by the <code>rule</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L97-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.to_initiator_value" href="#Rimu.DictVectors.to_initiator_value"><code>Rimu.DictVectors.to_initiator_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">to_initiator_value(::InitiatorRule, k::K, v::V, parent)</code></pre><p>Convert <code>v</code> to an <a href="dictvectors.html#Rimu.DictVectors.AbstractInitiatorValue"><code>AbstractInitiatorValue</code></a>, taking the initiator rule and the <code>parent</code> that spawned it into account.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L112-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.from_initiator_value" href="#Rimu.DictVectors.from_initiator_value"><code>Rimu.DictVectors.from_initiator_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">from_initiator_value(i::InitiatorRule, v::AbstractInitiatorValue)</code></pre><p>Convert the <a href="dictvectors.html#Rimu.DictVectors.AbstractInitiatorValue"><code>AbstractInitiatorValue</code></a> <code>v</code> into a scalar value according to the <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a> <code>i</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L104-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.Initiator" href="#Rimu.DictVectors.Initiator"><code>Rimu.DictVectors.Initiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Initiator(threshold = 1.0) &lt;: InitiatorRule</code></pre><p>Initiator rule to be passed to <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> or <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. An initiator is a configuration <code>add</code> with a coefficient with magnitude <code>abs(v[add]) &gt; threshold</code>. The <code>threshold</code> can be passed as a keyword argument. Rules:</p><ul><li>Initiators can spawn anywhere.</li><li>Non-initiators can spawn to initiators.</li></ul><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L120-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.SimpleInitiator" href="#Rimu.DictVectors.SimpleInitiator"><code>Rimu.DictVectors.SimpleInitiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimpleInitiator(threshold = 1.0) &lt;: InitiatorRule</code></pre><p>Initiator rule to be passed to <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> or <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. An initiator is a configuration <code>add</code> with a coefficient with magnitude <code>abs(v[add]) &gt; threshold</code>. The <code>threshold</code> can be passed as a keyword argument. Rules:</p><ul><li>Initiators can spawn anywhere.</li><li>Non-initiators cannot spawn.</li></ul><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L163-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.CoherentInitiator" href="#Rimu.DictVectors.CoherentInitiator"><code>Rimu.DictVectors.CoherentInitiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CoherentInitiator(threshold = 1.0) &lt;: InitiatorRule</code></pre><p>Initiator rule to be passed to <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> or <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. An initiator is a configuration <code>add</code> with a coefficient with magnitude <code>abs(v[add]) &gt; threshold</code>. The <code>threshold</code> can be passed as a keyword argument. Rules:</p><ul><li>Initiators can spawn anywhere.</li><li>Non-initiators can spawn to initiators.</li><li>Multiple non-initiators can spawn to a single non-initiator if their contributions add up to a value greater than the initiator threshold.</li></ul><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L188-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.NonInitiator" href="#Rimu.DictVectors.NonInitiator"><code>Rimu.DictVectors.NonInitiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NonInitiator() &lt;: InitiatorRule</code></pre><p>Initiator rule that disables the approximation. This is the default setting for <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L219-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.NonInitiatorValue" href="#Rimu.DictVectors.NonInitiatorValue"><code>Rimu.DictVectors.NonInitiatorValue</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NonInitiatorValue{V}</code></pre><p>Value that does not contain any additional information - used with <a href="dictvectors.html#Rimu.DictVectors.NonInitiator"><code>NonInitiator</code></a>, the default initiator rule for <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/initiators.jl#L48-L53">source</a></section></article><h2 id="PDVec-internals"><a class="docs-heading-anchor" href="#PDVec-internals"><code>PDVec</code> internals</a><a id="PDVec-internals-1"></a><a class="docs-heading-anchor-permalink" href="#PDVec-internals" title="Permalink"></a></h2><h3 id="Working-memory"><a class="docs-heading-anchor" href="#Working-memory">Working memory</a><a id="Working-memory-1"></a><a class="docs-heading-anchor-permalink" href="#Working-memory" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.FirstColumnIterator" href="#Rimu.DictVectors.FirstColumnIterator"><code>Rimu.DictVectors.FirstColumnIterator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FirstColumnIterator{W,D} &lt;: AbstractVector{D}</code></pre><p>Iterates segments in the first column of a working memory that belong to a specified rank.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>, <a href="dictvectors.html#Rimu.DictVectors.remote_segments-Tuple{PDWorkingMemory, Any}"><code>remote_segments</code></a> and <a href="dictvectors.html#Rimu.DictVectors.local_segments-Tuple{PDWorkingMemory}"><code>local_segments</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L145-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.PDWorkingMemory" href="#Rimu.DictVectors.PDWorkingMemory"><code>Rimu.DictVectors.PDWorkingMemory</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PDWorkingMemory(t::PDVec)</code></pre><p>The working memory that handles threading and MPI distribution for operations that involve operators, such as FCIQMC propagation, operator-vector multiplication and three-way dot products with <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>s.</p><p>The working memory is structured as a two-dimensional array of segments, which themselves are <code>Dict</code>s (see <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>). The number of rows in this array is equal to the number of segments across all MPI ranks (covering the entire address space), while the number of columns corresponds to the number of segments in the current MPI rank (i.e. column corresponds to the part of the address space that is local to the current rank).</p><p>The purpose of this organisation is to allow spawning in parallel without using locks or atomic operations. The spawning is performed by applying the following sequence of operations:</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.perform_spawns!-Tuple{PDWorkingMemory, PDVec, Any, Any}"><code>perform_spawns!</code></a>: each segment in the <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> is multiplied by the operator independently, with the results being stored in a column of the working memory.</li><li><a href="dictvectors.html#Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}"><code>collect_local!</code></a>: the rows of the working memory are summed to the first column.</li><li><a href="dictvectors.html#Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}"><code>synchronize_remote!</code></a>: the segments corresponding to other MPI ranks are distributed and transferred to the first column.</li><li><a href="dictvectors.html#Rimu.DictVectors.move_and_compress!-Tuple{PDVec, PDWorkingMemory}"><code>move_and_compress!</code></a>: the results are stochastically compressed and moved to the result <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a></li></ul><p>When used with three-argument dot products, a full copy of the left-hand side vector is materialized in the first column of the working memory on all ranks.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L58-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.PDWorkingMemoryColumn" href="#Rimu.DictVectors.PDWorkingMemoryColumn"><code>Rimu.DictVectors.PDWorkingMemoryColumn</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PDWorkingMemoryColumn</code></pre><p>A column in <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>. Supports <code>getindex</code>, <a href="dictvectors.html#Rimu.Interfaces.deposit!"><code>deposit!</code></a> and <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> and acts as a target for spawning. Can be used as a target in a three-way dot-product.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}" href="#Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.collect_local!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">collect_local!(w::PDWorkingMemory)</code></pre><p>Sum each row in <code>w</code> and store the result in the first column. This step must be performed before using <a href="dictvectors.html#Rimu.DictVectors.local_segments-Tuple{PDWorkingMemory}"><code>local_segments</code></a> or <a href="dictvectors.html#Rimu.DictVectors.remote_segments-Tuple{PDWorkingMemory, Any}"><code>remote_segments</code></a> to move the values elsewhere.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L219-L227">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.first_column-Union{Tuple{PDWorkingMemory{K, V, W, S}}, Tuple{S}, Tuple{W}, Tuple{V}, Tuple{K}} where {K, V, W, S}" href="#Rimu.DictVectors.first_column-Union{Tuple{PDWorkingMemory{K, V, W, S}}, Tuple{S}, Tuple{W}, Tuple{V}, Tuple{K}} where {K, V, W, S}"><code>Rimu.DictVectors.first_column</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">first_column(::PDWorkingMemory)</code></pre><p>Return the first column of the working memory. This is where the vectors are collected with <a href="dictvectors.html#Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}"><code>collect_local!</code></a>, <a href="dictvectors.html#Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}"><code>synchronize_remote!</code></a>, <a href="dictvectors.html#Rimu.DictVectors.copy_to_local!"><code>copy_to_local!</code></a>.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L275-L282">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.local_segments-Tuple{PDWorkingMemory}" href="#Rimu.DictVectors.local_segments-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.local_segments</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">local_segments(w::PDWorkingMemory)</code></pre><p>Returns iterator over the segments in the first column of <code>w</code> on the current rank. Iterates <code>Dict</code>s.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L170-L177">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.move_and_compress!-Tuple{PDVec, PDWorkingMemory}" href="#Rimu.DictVectors.move_and_compress!-Tuple{PDVec, PDWorkingMemory}"><code>Rimu.DictVectors.move_and_compress!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">move_and_compress!(dst::PDVec, src::PDWorkingMemory)
move_and_compress!(::CompressionStrategy, dst::PDVec, src::PDWorkingMemory)</code></pre><p>Move the values in <code>src</code> to <code>dst</code>, compressing the according to the <a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a> on the way. This step can only be performed after <a href="dictvectors.html#Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}"><code>collect_local!</code></a> and <a href="dictvectors.html#Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}"><code>synchronize_remote!</code></a>.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L252-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.num_columns-Tuple{PDWorkingMemory}" href="#Rimu.DictVectors.num_columns-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.num_columns</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_columns(w::PDWorkingMemory) -&gt; Int</code></pre><p>Number of columns in the working memory. The number of rows is equal to the number of segments in the local MPI rank.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L130-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.num_rows-Tuple{PDWorkingMemory}" href="#Rimu.DictVectors.num_rows-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.num_rows</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_rows(w::PDWorkingMemory) -&gt; Int</code></pre><p>Number of rows in the working memory. The number of rows is equal to the number of segments accross all MPI ranks.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L120-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.perform_spawns!-Tuple{PDWorkingMemory, PDVec, Any, Any}" href="#Rimu.DictVectors.perform_spawns!-Tuple{PDWorkingMemory, PDVec, Any, Any}"><code>Rimu.DictVectors.perform_spawns!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">perform_spawns!(w::PDWorkingMemory, v::PDVec, ham, boost)</code></pre><p>Perform spawns from <code>v</code> through <code>ham</code> to <code>w</code>. <code>boost</code> increases the number of spawns without affecting the expectation value of the process.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> and <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L200-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.remote_segments-Tuple{PDWorkingMemory, Any}" href="#Rimu.DictVectors.remote_segments-Tuple{PDWorkingMemory, Any}"><code>Rimu.DictVectors.remote_segments</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remote_segments(w::PDWorkingMemory, rank_id)</code></pre><p>Returns iterator over the segments in the first column of <code>w</code> that belong to rank <code>rank_id</code>. Iterates <code>Dict</code>s.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L158-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}" href="#Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.synchronize_remote!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">synchronize_remote!([::Communicator,] w::PDWorkingMemory) -&gt; names, values</code></pre><p>Synchronize non-local segments across MPI and add the results to the first column. Controlled by the <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>. This can only be perfomed after <a href="dictvectors.html#Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}"><code>collect_local!</code></a>.</p><p>Should return a <code>Tuple</code> of names and a <code>Tuple</code> of values to report.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/pdworkingmemory.jl#L237-L247">source</a></section></article><h3 id="Communicators"><a class="docs-heading-anchor" href="#Communicators">Communicators</a><a id="Communicators-1"></a><a class="docs-heading-anchor-permalink" href="#Communicators" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.AllToAll" href="#Rimu.DictVectors.AllToAll"><code>Rimu.DictVectors.AllToAll</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AllToAll{K,V}(; mpi_comm, n_segments, report) &lt;: Communicator</code></pre><p><a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> that uses collective communication using <code>MPI.Alltoall[v]!</code>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>mpi_comm=MPI.COMM_WORLD</code>: the MPI communicator to use.</li><li><code>n_segments=Threads.nthreads()</code>: the number of segments per rank to use. Should match the <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> the communicator is used with.</li><li><code>report=false</code>: if set to true, report MPI communication times during a projector Monte Carlo run.</li></ul><p>See also: <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L529-L543">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.Communicator" href="#Rimu.DictVectors.Communicator"><code>Rimu.DictVectors.Communicator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type Communicator</code></pre><p>Communicators are used to handle MPI communication when using <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>s. Currently, three implementations are provided, <a href="dictvectors.html#Rimu.DictVectors.NotDistributed"><code>NotDistributed</code></a>, <a href="dictvectors.html#Rimu.DictVectors.AllToAll"><code>AllToAll</code></a> and <a href="dictvectors.html#Rimu.DictVectors.PointToPoint"><code>PointToPoint</code></a>. The communicator is picked automatically according to the number of MPI ranks available.</p><p>When implementing a communicator, use <a href="dictvectors.html#Rimu.DictVectors.local_segments-Tuple{PDWorkingMemory}"><code>local_segments</code></a> and <a href="dictvectors.html#Rimu.DictVectors.remote_segments-Tuple{PDWorkingMemory, Any}"><code>remote_segments</code></a>.</p><p><strong>Interface</strong></p><ul><li><a href="dictvectors.html#Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}"><code>synchronize_remote!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_rank"><code>mpi_rank</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_size"><code>mpi_size</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_comm"><code>mpi_comm</code></a></li></ul><p><strong>Optional interface</strong></p><ul><li><a href="dictvectors.html#Rimu.DictVectors.is_distributed-Tuple{Rimu.DictVectors.Communicator}"><code>is_distributed</code></a>: defaults to returning <code>true</code>.</li><li><a href="dictvectors.html#Rimu.DictVectors.merge_remote_reductions-Tuple{Rimu.DictVectors.Communicator, Any, Any}"><code>merge_remote_reductions</code></a>: defaults to using <code>MPI.Allreduce</code>.</li><li><a href="dictvectors.html#Rimu.DictVectors.total_num_segments-Tuple{Rimu.DictVectors.Communicator, Any}"><code>total_num_segments</code></a>: defaults to <code>n * mpi_size</code>.</li><li><a href="dictvectors.html#Rimu.DictVectors.target_segment-Tuple{Rimu.DictVectors.Communicator, Any, Any}"><code>target_segment</code></a>: defaults to selecting using <a href="https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/">fastrange</a>  to pick the segment.</li></ul><p>See also: <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L10-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.LocalPart" href="#Rimu.DictVectors.LocalPart"><code>Rimu.DictVectors.LocalPart</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LocalPart &lt;: Communicator</code></pre><p>When <a href="dictvectors.html#Rimu.Interfaces.localpart"><code>localpart</code></a> is used, the vector&#39;s <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> is replaced with this. This allows iteration and local reductions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L136-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.NestedSegmentedBuffer" href="#Rimu.DictVectors.NestedSegmentedBuffer"><code>Rimu.DictVectors.NestedSegmentedBuffer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NestedSegmentedBuffer{T}(nrows) &lt;: AbstractMatrix{AbstractVector{T}}</code></pre><p>Matrix of vectors stored in a single buffer with collective MPI communication support. The number of rows in the matrix is fixed to <code>nrows</code>.</p><p>Used in the <a href="dictvectors.html#Rimu.DictVectors.AllToAll"><code>AllToAll</code></a> communication strategy, where each column corresponds to an MPI rank and each row corresponds to a segment in the <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>.</p><p><strong>Supported operations</strong></p><ul><li><a href="dictvectors.html#Rimu.DictVectors.append_collections!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>append_collections!</code></a>: add a column to the matrix.</li><li><a href="dictvectors.html#Rimu.DictVectors.append_empty_column!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer}"><code>append_empty_column!</code></a>: add an empty column to the matrix.</li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_exchange_alltoall!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>mpi_exchange_alltoall!</code></a>: each rank sends the <code>i</code>-th column of the matrix to the <code>(i-1)</code>-st rank.</li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_exchange_allgather!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>mpi_exchange_allgather!</code></a>: each rank sends the <code>1</code>-st column of the matrix to all ranks.</li></ul><p>See also: <a href="dictvectors.html#Rimu.DictVectors.SegmentedBuffer"><code>SegmentedBuffer</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L368-L387">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.NotDistributed" href="#Rimu.DictVectors.NotDistributed"><code>Rimu.DictVectors.NotDistributed</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NotDistributed &lt;: Communicator</code></pre><p>This <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> is used when MPI is not available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L112-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.PointToPoint" href="#Rimu.DictVectors.PointToPoint"><code>Rimu.DictVectors.PointToPoint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PointToPoint{K,V}(; mpi_comm, report) &lt;: Communicator</code></pre><p>MPI <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> that uses circular communication using <code>MPI.Isend</code> and <code>MPI.Recv!</code>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>mpi_comm=MPI.COMM_WORLD</code>: the MPI communicator to use.</li><li><code>report=false</code>: if set to true, report MPI communication times during a projector Monte Carlo run.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L273-L284">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.SegmentedBuffer" href="#Rimu.DictVectors.SegmentedBuffer"><code>Rimu.DictVectors.SegmentedBuffer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SegmentedBuffer{T}() &lt;: AbstractVector{AbstractVector{T}}</code></pre><p>Behaves like a vector of vectors, but is stored in a single buffer. It can be sent/received over MPI keeping its structure intact. Used in the <a href="dictvectors.html#Rimu.DictVectors.PointToPoint"><code>PointToPoint</code></a> communication strategy.</p><p><strong>Supported operations</strong></p><ul><li><a href="dictvectors.html#Rimu.DictVectors.replace_collections!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}"><code>replace_collections!</code></a>: insert data into the buffers</li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_send-Tuple{Rimu.DictVectors.SegmentedBuffer, Any, Any}"><code>mpi_send</code></a>: send the contents of a buffer to a given rank</li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_recv_any!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}"><code>mpi_recv_any!</code></a>: receive a message sent by <a href="dictvectors.html#Rimu.DictVectors.mpi_send-Tuple{Rimu.DictVectors.SegmentedBuffer, Any, Any}"><code>mpi_send</code></a> from any rank, storing the contents in this buffer</li></ul><p>See also: <a href="dictvectors.html#Rimu.DictVectors.NestedSegmentedBuffer"><code>NestedSegmentedBuffer</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L168-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.append_collections!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Any}" href="#Rimu.DictVectors.append_collections!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>Rimu.DictVectors.append_collections!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">append_collections!(buf::NestedSegmentedBuffer, iters)</code></pre><p>Add a column to <code>buf</code>. The length of <code>iters</code> should match <code>buf.nrows</code>.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.NestedSegmentedBuffer"><code>NestedSegmentedBuffer</code></a>, <a href="dictvectors.html#Rimu.DictVectors.append_empty_column!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer}"><code>append_empty_column!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L412-L418">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.append_empty_column!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer}" href="#Rimu.DictVectors.append_empty_column!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer}"><code>Rimu.DictVectors.append_empty_column!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">append_empty_column!(buf::NestedSegmentedBuffer)</code></pre><p>Like <a href="dictvectors.html#Rimu.DictVectors.append_collections!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>append_collections!</code></a>, but adds an empty column.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.NestedSegmentedBuffer"><code>NestedSegmentedBuffer</code></a>, <a href="dictvectors.html#Rimu.DictVectors.append_collections!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>append_collections!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L444-L450">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.copy_to_local!" href="#Rimu.DictVectors.copy_to_local!"><code>Rimu.DictVectors.copy_to_local!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">copy_to_local!([::Communicator,] w::PDWorkingMemory, t::PDVec) -&gt; PDVec</code></pre><p>Copy pairs in <code>t</code> from all ranks and return them as a (possibly) new <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, possibly using the <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a> as temporary storage.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>PDWorkingMemory</code></a>, <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L102-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.is_distributed-Tuple{Rimu.DictVectors.Communicator}" href="#Rimu.DictVectors.is_distributed-Tuple{Rimu.DictVectors.Communicator}"><code>Rimu.DictVectors.is_distributed</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_distributed(::Communicator)</code></pre><p>Return <code>true</code> if <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> operates over MPI.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.merge_remote_reductions-Tuple{Rimu.DictVectors.Communicator, Any, Any}" href="#Rimu.DictVectors.merge_remote_reductions-Tuple{Rimu.DictVectors.Communicator, Any, Any}"><code>Rimu.DictVectors.merge_remote_reductions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">merge_remote_reductions(c::Communicator, op, x)</code></pre><p>Merge the results of reductions over MPI. By default, it uses <code>MPI.Allreduce</code>.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L47-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_comm" href="#Rimu.DictVectors.mpi_comm"><code>Rimu.DictVectors.mpi_comm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mpi_comm(::Communicator) -&gt; MPI.Comm</code></pre><p>Return the <code>MPI.Comm</code> that the <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a> operates on.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_exchange_allgather!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}" href="#Rimu.DictVectors.mpi_exchange_allgather!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>Rimu.DictVectors.mpi_exchange_allgather!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mpi_exchange_allgather!(src::NestedSegmentedBuffer, dst::NestedSegmentedBuffer, comm)</code></pre><p>The first and only column in <code>src</code> will be sent to all ranks. The data from all ranks will be gethered in <code>dst</code>. After this operation, <code>dst</code> will contain the same data on all ranks.</p><p>See also <a href="dictvectors.html#Rimu.DictVectors.NestedSegmentedBuffer"><code>NestedSegmentedBuffer</code></a>, <a href="dictvectors.html#Rimu.DictVectors.mpi_exchange_alltoall!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>mpi_exchange_alltoall!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L498-L505">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_exchange_alltoall!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}" href="#Rimu.DictVectors.mpi_exchange_alltoall!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>Rimu.DictVectors.mpi_exchange_alltoall!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mpi_exchange_alltoall!(src::NestedSegmentedBuffer, dst::NestedSegmentedBuffer, comm)</code></pre><p>The <code>n</code>-th column from <code>src</code> will be sent to rank <code>n-1</code>. The data sent from rank <code>r</code> will be stored in the <code>(r+1)</code>-st column of <code>dst</code>.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.NestedSegmentedBuffer"><code>NestedSegmentedBuffer</code></a>, <a href="dictvectors.html#Rimu.DictVectors.mpi_exchange_allgather!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>mpi_exchange_allgather!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L465-L472">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_rank" href="#Rimu.DictVectors.mpi_rank"><code>Rimu.DictVectors.mpi_rank</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mpi_rank(::Communicator) -&gt; Int</code></pre><p>Return the MPI rank of the <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L81-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_recv_any!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}" href="#Rimu.DictVectors.mpi_recv_any!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}"><code>Rimu.DictVectors.mpi_recv_any!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mpi_recv_any!(buf::SegmentedBuffer, comm::MPI_Comm) -&gt; Int</code></pre><p>Find a source that is ready to send a buffer and receive from it. Return the rank ID of the sender.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L255-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_send-Tuple{Rimu.DictVectors.SegmentedBuffer, Any, Any}" href="#Rimu.DictVectors.mpi_send-Tuple{Rimu.DictVectors.SegmentedBuffer, Any, Any}"><code>Rimu.DictVectors.mpi_send</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mpi_send(buf::SegmentedBuffer, dest, comm::MPI.Comm)</code></pre><p>Send the buffer to rank with id <code>dest</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L243-L247">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.mpi_size" href="#Rimu.DictVectors.mpi_size"><code>Rimu.DictVectors.mpi_size</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mpi_size(::Communicator) -&gt; Int</code></pre><p>Return the total number of MPI ranks in the <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L88-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.replace_collections!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}" href="#Rimu.DictVectors.replace_collections!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}"><code>Rimu.DictVectors.replace_collections!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">replace_collections!(buf::SegmentedBuffer, iters)</code></pre><p>Insert collections in <code>iters</code> into a <a href="dictvectors.html#Rimu.DictVectors.SegmentedBuffer"><code>SegmentedBuffer</code></a>.</p><pre><code class="language-julia hljs">julia&gt; using Rimu.DictVectors: SegmentedBuffer

julia&gt; buf = SegmentedBuffer{Int}()
0-element SegmentedBuffer{Int64}

julia&gt; Rimu.DictVectors.replace_collections!(buf, [[1,2,3], [4,5]])
2-element SegmentedBuffer{Int64}:
 [1, 2, 3]
 [4, 5]

julia&gt; Rimu.DictVectors.replace_collections!(buf, [[1], [2,3], [4]])
3-element SegmentedBuffer{Int64}:
 [1]
 [2, 3]
 [4]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L200-L222">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.target_segment-Tuple{Rimu.DictVectors.Communicator, Any, Any}" href="#Rimu.DictVectors.target_segment-Tuple{Rimu.DictVectors.Communicator, Any, Any}"><code>Rimu.DictVectors.target_segment</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">target_segment(c::Communicator, k, num_segments) -&gt; target, is_local</code></pre><p>This function is used to determine where in the <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a> a key should be stored. If the key is local (stored on the same MPI rank), return its segment index and <code>true</code>. If the key is non-local, return any value and <code>false</code>.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L66-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.DictVectors.total_num_segments-Tuple{Rimu.DictVectors.Communicator, Any}" href="#Rimu.DictVectors.total_num_segments-Tuple{Rimu.DictVectors.Communicator, Any}"><code>Rimu.DictVectors.total_num_segments</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_num_segments(c::Communicator, n) -&gt; Int</code></pre><p>Return the total number of segments, including the remote ones, where <code>n</code> is number of local segments.</p><p>See also: <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>, <a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Communicator</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/c698202defc53847845d2069ef77ea6cdf9d556c/src/DictVectors/communicators.jl#L56-L63">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="dictvectors.html#Rimu.DictVectors"><code>Rimu.DictVectors</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.AbstractInitiatorValue"><code>Rimu.DictVectors.AbstractInitiatorValue</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>Rimu.DictVectors.AbstractProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.AllToAll"><code>Rimu.DictVectors.AllToAll</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.CoherentInitiator"><code>Rimu.DictVectors.CoherentInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Communicator"><code>Rimu.DictVectors.Communicator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.DVec"><code>Rimu.DictVectors.DVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.FirstColumnIterator"><code>Rimu.DictVectors.FirstColumnIterator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.FrozenDVec"><code>Rimu.DictVectors.FrozenDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.FrozenPDVec"><code>Rimu.DictVectors.FrozenPDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Initiator"><code>Rimu.DictVectors.Initiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>Rimu.DictVectors.InitiatorDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>Rimu.DictVectors.InitiatorRule</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorValue"><code>Rimu.DictVectors.InitiatorValue</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.LocalPart"><code>Rimu.DictVectors.LocalPart</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NestedSegmentedBuffer"><code>Rimu.DictVectors.NestedSegmentedBuffer</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NonInitiator"><code>Rimu.DictVectors.NonInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NonInitiatorValue"><code>Rimu.DictVectors.NonInitiatorValue</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm1ProjectorPPop"><code>Rimu.DictVectors.Norm1ProjectorPPop</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm2Projector"><code>Rimu.DictVectors.Norm2Projector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NormProjector"><code>Rimu.DictVectors.NormProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NotDistributed"><code>Rimu.DictVectors.NotDistributed</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>Rimu.DictVectors.PDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemory"><code>Rimu.DictVectors.PDWorkingMemory</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.PDWorkingMemoryColumn"><code>Rimu.DictVectors.PDWorkingMemoryColumn</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.PointToPoint"><code>Rimu.DictVectors.PointToPoint</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.SegmentedBuffer"><code>Rimu.DictVectors.SegmentedBuffer</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.SimpleInitiator"><code>Rimu.DictVectors.SimpleInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.UniformProjector"><code>Rimu.DictVectors.UniformProjector</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>Rimu.Interfaces.AbstractDVec</code></a></li><li><a href="dictvectors.html#OrderedCollections.freeze"><code>OrderedCollections.freeze</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.append_collections!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>Rimu.DictVectors.append_collections!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.append_empty_column!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer}"><code>Rimu.DictVectors.append_empty_column!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.collect_local!-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.collect_local!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.copy_to_local!"><code>Rimu.DictVectors.copy_to_local!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.first_column-Union{Tuple{PDWorkingMemory{K, V, W, S}}, Tuple{S}, Tuple{W}, Tuple{V}, Tuple{K}} where {K, V, W, S}"><code>Rimu.DictVectors.first_column</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.from_initiator_value"><code>Rimu.DictVectors.from_initiator_value</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.initiator_valtype"><code>Rimu.DictVectors.initiator_valtype</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.is_distributed-Tuple{Rimu.DictVectors.Communicator}"><code>Rimu.DictVectors.is_distributed</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.local_segments-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.local_segments</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.merge_remote_reductions-Tuple{Rimu.DictVectors.Communicator, Any, Any}"><code>Rimu.DictVectors.merge_remote_reductions</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.move_and_compress!-Tuple{PDVec, PDWorkingMemory}"><code>Rimu.DictVectors.move_and_compress!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_comm"><code>Rimu.DictVectors.mpi_comm</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_exchange_allgather!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>Rimu.DictVectors.mpi_exchange_allgather!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_exchange_alltoall!-Tuple{Rimu.DictVectors.NestedSegmentedBuffer, Rimu.DictVectors.NestedSegmentedBuffer, Any}"><code>Rimu.DictVectors.mpi_exchange_alltoall!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_rank"><code>Rimu.DictVectors.mpi_rank</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_recv_any!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}"><code>Rimu.DictVectors.mpi_recv_any!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_send-Tuple{Rimu.DictVectors.SegmentedBuffer, Any, Any}"><code>Rimu.DictVectors.mpi_send</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.mpi_size"><code>Rimu.DictVectors.mpi_size</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.num_columns-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.num_columns</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.num_rows-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.num_rows</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.perform_spawns!-Tuple{PDWorkingMemory, PDVec, Any, Any}"><code>Rimu.DictVectors.perform_spawns!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.remote_segments-Tuple{PDWorkingMemory, Any}"><code>Rimu.DictVectors.remote_segments</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.replace_collections!-Tuple{Rimu.DictVectors.SegmentedBuffer, Any}"><code>Rimu.DictVectors.replace_collections!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.synchronize_remote!-Tuple{PDWorkingMemory}"><code>Rimu.DictVectors.synchronize_remote!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.target_segment-Tuple{Rimu.DictVectors.Communicator, Any, Any}"><code>Rimu.DictVectors.target_segment</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.to_initiator_value"><code>Rimu.DictVectors.to_initiator_value</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.total_num_segments-Tuple{Rimu.DictVectors.Communicator, Any}"><code>Rimu.DictVectors.total_num_segments</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.walkernumber"><code>Rimu.DictVectors.walkernumber</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.walkernumber_and_length"><code>Rimu.DictVectors.walkernumber_and_length</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.apply_operator!"><code>Rimu.Interfaces.apply_operator!</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.deposit!"><code>Rimu.Interfaces.deposit!</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.dot_from_right"><code>Rimu.Interfaces.dot_from_right</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.localpart"><code>Rimu.Interfaces.localpart</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.sort_into_targets!"><code>Rimu.Interfaces.sort_into_targets!</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.storage"><code>Rimu.Interfaces.storage</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.working_memory"><code>Rimu.Interfaces.working_memory</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="hamiltonians.html">« Hamiltonians</a><a class="docs-footer-nextpage" href="addresses.html">BitString addresses »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Sunday 18 August 2024 13:43">Sunday 18 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
