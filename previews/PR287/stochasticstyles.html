<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Stochastic styles · Rimu.jl</title><meta name="title" content="Stochastic styles · Rimu.jl"/><meta property="og:title" content="Stochastic styles · Rimu.jl"/><meta property="twitter:title" content="Stochastic styles · Rimu.jl"/><meta name="description" content="Documentation for Rimu.jl."/><meta property="og:description" content="Documentation for Rimu.jl."/><meta property="twitter:description" content="Documentation for Rimu.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Rimu.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Rimu.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Guide</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="generated/BHM-example.html">1D Bose-Hubbard Model</a></li><li><a class="tocitem" href="generated/BHM-example-mpi.html">Rimu with MPI</a></li><li><a class="tocitem" href="generated/G2-example.html">Calculating observables</a></li><li><a class="tocitem" href="generated/exact-example.html">Exact diagonalization</a></li><li><a class="tocitem" href="generated/HO-example.html">Degenerate perturbation theory in a harmonic oscillator basis</a></li></ul></li><li><span class="tocitem">User documentation</span><ul><li><a class="tocitem" href="exactdiagonalization.html">Exact Diagonalization</a></li><li><a class="tocitem" href="projectormontecarlo.html">Projector Monte Carlo</a></li><li><a class="tocitem" href="statstools.html">StatsTools</a></li><li><a class="tocitem" href="mpi.html">Using MPI</a></li></ul></li><li><span class="tocitem">Developer documentation</span><ul><li><a class="tocitem" href="interfaces.html">Interfaces</a></li><li><a class="tocitem" href="hamiltonians.html">Hamiltonians</a></li><li><a class="tocitem" href="dictvectors.html">Dict vectors</a></li><li><a class="tocitem" href="addresses.html">BitString addresses</a></li><li class="is-active"><a class="tocitem" href="stochasticstyles.html">Stochastic styles</a><ul class="internal"><li><a class="tocitem" href="#Available-StochasticStyles"><span>Available <code>StochasticStyle</code>s</span></a></li><li><a class="tocitem" href="#The-StochasticStyle-interface"><span>The <code>StochasticStyle</code> interface</span></a></li><li><a class="tocitem" href="#Compression-strategies"><span>Compression strategies</span></a></li><li><a class="tocitem" href="#Spawning-strategies-and-convenience-functions"><span>Spawning strategies and convenience functions</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="rimuio.html">I/O</a></li><li><a class="tocitem" href="randomnumbers.html">Random numbers</a></li><li><a class="tocitem" href="documentation.html">Documentation generation</a></li><li><a class="tocitem" href="testing.html">Code testing</a></li></ul></li><li><a class="tocitem" href="API.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer documentation</a></li><li class="is-active"><a href="stochasticstyles.html">Stochastic styles</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="stochasticstyles.html">Stochastic styles</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/RimuQMC/Rimu.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/RimuQMC/Rimu.jl/blob/develop/docs/src/stochasticstyles.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Module-StochasticStyles"><a class="docs-heading-anchor" href="#Module-StochasticStyles">Module <code>StochasticStyles</code></a><a id="Module-StochasticStyles-1"></a><a class="docs-heading-anchor-permalink" href="#Module-StochasticStyles" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles" href="#Rimu.StochasticStyles"><code>Rimu.StochasticStyles</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This module provides concrete implementations of <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>s, which specify the algorithm used by <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a> when performing stochastic matrix-vector multiplication.</p><p><strong>Implemented stochastic styles:</strong></p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>: abstract type for stochastic styles</li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticInteger"><code>IsStochasticInteger</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsDeterministic"><code>IsDeterministic</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticWithThreshold"><code>IsStochasticWithThreshold</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsDynamicSemistochastic"><code>IsDynamicSemistochastic</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.StyleUnknown"><code>StyleUnknown</code></a></li></ul><p>The offdiagonal spawning is defined in <code>spawning.jl</code> and is controlled by setting a <a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a>.</p><p>The vector compression strategies are defined in <code>compression.jl</code> and are controlled by setting a <a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/StochasticStyles.jl#L1-L21">source</a></section></article><h2 id="Available-StochasticStyles"><a class="docs-heading-anchor" href="#Available-StochasticStyles">Available <code>StochasticStyle</code>s</a><a id="Available-StochasticStyles-1"></a><a class="docs-heading-anchor-permalink" href="#Available-StochasticStyles" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.StyleUnknown" href="#Rimu.Interfaces.StyleUnknown"><code>Rimu.Interfaces.StyleUnknown</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StyleUnknown{T}() &lt;: StochasticStyle</code></pre><p>Trait for value types not (currently) compatible with FCIQMC. This style makes it possible to construct dict vectors with unsupported <code>valtype</code>s.</p><p>See also <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L46-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.IsDeterministic" href="#Rimu.StochasticStyles.IsDeterministic"><code>Rimu.StochasticStyles.IsDeterministic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IsDeterministic{T=Float64}(compression=NoCompression()) &lt;: StochasticStyle{T}</code></pre><p>Propagate with deterministic vector matrix multiplications. Stochastic compression of the resultant vector (after annihilations) can be triggered by setting the optional <code>compression</code> argument to a relevant <a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a>.</p><p>See also <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/styles.jl#L67-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.IsDynamicSemistochastic" href="#Rimu.StochasticStyles.IsDynamicSemistochastic"><code>Rimu.StochasticStyles.IsDynamicSemistochastic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IsDynamicSemistochastic{T=Float64}(; kwargs...) &lt;: StochasticStyle{T}</code></pre><p>QMC propagation with floating-point walker numbers and reduced noise. All possible spawns (offdiagonal elements in vector-matrix multiplication) are performed deterministically when number of walkers in a configuration is high, as controlled by the <code>rel_spawning_threshold</code> and <code>abs_spawning_threshold</code> keywords. Stochastic selection of spawns is controlled by the <code>spawning</code> keyword.</p><p>By default, a stochastic vector compression is applied after annihilations are completed. This behaviour can be changed to on-the-fly projection (as in <a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticInteger"><code>IsStochasticInteger</code></a> or <a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticWithThreshold"><code>IsStochasticWithThreshold</code></a>) by setting <code>late_compression=false</code>, or modifying <code>spawning</code> and <code>compression</code>. See parameters below for a more detailed explanation.</p><p><strong>Parameters:</strong></p><ul><li><p><code>threshold = 1.0</code>: Values below this number are stochastically projected to this value or zero. See also <a href="stochasticstyles.html#Rimu.StochasticStyles.ThresholdCompression"><code>ThresholdCompression</code></a>.</p></li><li><p><code>late_compression = true</code>: If this is set to <code>true</code>, stochastic vector compression is performed after all the spawns are performed. If it is set to <code>false</code>, values are stochastically projected as they are being spawned. <code>late_compression=true</code> is equivalent to setting <code>compression=</code><a href="stochasticstyles.html#Rimu.StochasticStyles.ThresholdCompression"><code>ThresholdCompression</code></a><code>(threshold)</code> and <code>spawning=</code><a href="stochasticstyles.html#Rimu.StochasticStyles.WithReplacement"><code>WithReplacement</code></a><code>()</code>.  <code>late_compression=false</code> is equivalent to <code>compression=</code><a href="stochasticstyles.html#Rimu.Interfaces.NoCompression"><code>NoCompression</code></a><code>()</code> and <code>spawning=WithReplacement(threshold)</code>.</p></li><li><p><code>rel_spawning_threshold = 1.0</code>: If the walker number on a configuration times this threshold is greater than the number of offdiagonals, spawning is done deterministically. Should be set to 1 or more for best performance.</p></li><li><p><code>abs_spawning_threshold = Inf</code>: If the walker number on a configuration is greater than this value, spawning is done deterministically. Can be set to e.g.  <code>abs_spawning_threshold = 0.1 * target_walkers</code>.</p></li><li><p><code>spawning = WithReplacement()</code>: <a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a> to use for the non-exact spawns.</p></li><li><p><code>compression = ThresholdCompression(threshold)</code>: <a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a> used to compress the vector after a step. Overrides <code>threshold</code>.</p></li></ul><p>See also <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/styles.jl#L132-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.IsStochastic2Pop" href="#Rimu.StochasticStyles.IsStochastic2Pop"><code>Rimu.StochasticStyles.IsStochastic2Pop</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IsStochastic2Pop{T=Complex{Int}}() &lt;: StochasticStyle{T}</code></pre><p>Stochastic propagation with complex walker numbers representing two populations of integer walkers.</p><p>When using this style, make sure to set a complex number as target walkers in the <a href="API.html#Rimu.ShiftStrategy"><code>ShiftStrategy</code></a>!</p><p>This style is experimental.</p><p>See also <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/styles.jl#L27-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.IsStochasticInteger" href="#Rimu.StochasticStyles.IsStochasticInteger"><code>Rimu.StochasticStyles.IsStochasticInteger</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IsStochasticInteger{T=Int}() &lt;: StochasticStyle{T}</code></pre><p>FCIQMC algorithm with integer walkers as in <a href="https://doi.org/10.1063/1.3193710">Booth <em>et al.</em> (2009)</a>. During the vector matrix product each individual diagonal and spawning step is rounded stochastically to a nearby integer value.</p><p>See also <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/styles.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.IsStochasticWithThreshold" href="#Rimu.StochasticStyles.IsStochasticWithThreshold"><code>Rimu.StochasticStyles.IsStochasticWithThreshold</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IsStochasticWithThreshold{T=Float64}(threshold=1.0) &lt;: StochasticStyle{T}</code></pre><p>Stochastic propagation with floating point walker numbers. During the vector matrix product each individual diagonal and spawning result is rounded stochastically if smaller than <code>threshold</code> (before annihilations). For a more customizable stochastic style, see <a href="stochasticstyles.html#Rimu.StochasticStyles.IsDynamicSemistochastic"><code>IsDynamicSemistochastic</code></a>.</p><p>See also <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/styles.jl#L107-L116">source</a></section></article><h2 id="The-StochasticStyle-interface"><a class="docs-heading-anchor" href="#The-StochasticStyle-interface">The <code>StochasticStyle</code> interface</a><a id="The-StochasticStyle-interface-1"></a><a class="docs-heading-anchor-permalink" href="#The-StochasticStyle-interface" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.StochasticStyle" href="#Rimu.Interfaces.StochasticStyle"><code>Rimu.Interfaces.StochasticStyle</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StochasticStyle(v)</code></pre><p>Abstract type. When called as a function it returns the native style of the generalised vector <code>v</code> that determines how simulations are to proceed.</p><p><strong>Usage</strong></p><p>Concrete <code>StochasticStyle</code>s can be used for the <code>style</code> keyword argument of <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>, <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a> and <a href="dictvectors.html#Rimu.DictVectors.PDVec"><code>PDVec</code></a>. The following styles are available:</p><ul><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticInteger"><code>IsStochasticInteger</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsDeterministic"><code>IsDeterministic</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticWithThreshold"><code>IsStochasticWithThreshold</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsDynamicSemistochastic"><code>IsDynamicSemistochastic</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.StyleUnknown"><code>StyleUnknown</code></a></li></ul><p><strong>Extended Help</strong></p><p><strong>Interface</strong></p><p>When defining a new <code>StochasticStyle</code>, subtype it as <code>MyStyle&lt;:StochasticStyle{T}</code> where <code>T</code> is the concrete value type the style is designed to work with.</p><p>For it to work with <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>, a <code>StochasticStyle</code> must define the following:</p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.apply_column!"><code>apply_column!(::StochasticStyle, w, H, address, value)</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.step_stats"><code>step_stats(::StochasticStyle)</code></a></li></ul><p>and optionally</p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy(::StochasticStyle)</code></a> for vector compression after annihilations,</li></ul><p>See also <a href="stochasticstyles.html#Rimu.StochasticStyles"><code>StochasticStyles</code></a>, <a href="API.html#Interfaces"><code>Interfaces</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L1-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.step_stats" href="#Rimu.Interfaces.step_stats"><code>Rimu.Interfaces.step_stats</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">step_stats(::StochasticStyle)
step_stats(::CompressionStrategy)</code></pre><p>Return a tuple of stat names (<code>Symbol</code> or <code>String</code>) and a tuple of zeros of the same length. These will be reported as columns in the <code>DataFrame</code> returned by <a href="API.html#Rimu.ProjectorMonteCarloProblem"><code>ProjectorMonteCarloProblem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L123-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.apply_column!" href="#Rimu.Interfaces.apply_column!"><code>Rimu.Interfaces.apply_column!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_column!(v, op, addr, num, boost=1) -&gt; stats::Tuple</code></pre><p>Apply the product of column <code>addr</code> of the operator <code>op</code> and the scalar <code>num</code> to the vector <code>v</code> according to the <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> of <code>v</code>. By expectation value this should be equivalent to</p><pre><code class="nohighlight hljs">v .+= op[:, add] .* num</code></pre><p>This is used to perform the spawning step in FCIQMC and to implement operator-vector multiplications. Mutates <code>v</code> and reports spawning statistics.</p><p>The <code>boost</code> argument multiplicatively increases the number of spawns to be performed without affecting the expectation value of the procedure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L133-L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.default_style" href="#Rimu.Interfaces.default_style"><code>Rimu.Interfaces.default_style</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_style(::Type)</code></pre><p>Pick a <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> based on the value type. Returns <a href="stochasticstyles.html#Rimu.Interfaces.StyleUnknown"><code>StyleUnknown</code></a> if no known default style is set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L56-L61">source</a></section></article><h2 id="Compression-strategies"><a class="docs-heading-anchor" href="#Compression-strategies">Compression strategies</a><a id="Compression-strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Compression-strategies" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.CompressionStrategy" href="#Rimu.Interfaces.CompressionStrategy"><code>Rimu.Interfaces.CompressionStrategy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompressionStrategy</code></pre><p>The <code>CompressionStrategy</code> controls how a vector is compressed after a step.</p><p><strong>Default implementation:</strong></p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.NoCompression"><code>NoCompression</code></a>: no vector compression</li></ul><p><strong>Usage</strong></p><p>A subtype of <code>CompressionStrategy</code> can be passed as a keyword argument to the constructors for some <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>s. Calling <code>CompressionStrategy(s::StochasticStyle)</code> returns a relevant subtype. The default is <a href="stochasticstyles.html#Rimu.Interfaces.NoCompression"><code>NoCompression</code></a>.</p><p><strong>Interface</strong></p><p>When defining a new <code>CompressionStrategy</code>, subtype it as <code>MyCompressionStrategy &lt;: CompressionStrategy</code> and define these methods:</p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.compress!"><code>compress!(s::CompressionStrategy, v)</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.compress!"><code>compress!(s::CompressionStrategy, w, v)</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.step_stats"><code>step_stats(s::CompressionStrategy)</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L64-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.NoCompression" href="#Rimu.Interfaces.NoCompression"><code>Rimu.Interfaces.NoCompression</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NoCompression &lt;: CompressionStrategy end</code></pre><p>Default <a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a>. Leaves the vector intact.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L90-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.ThresholdCompression" href="#Rimu.StochasticStyles.ThresholdCompression"><code>Rimu.StochasticStyles.ThresholdCompression</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ThresholdCompression(threshold=1) &lt;: CompressionStrategy</code></pre><p><a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a> that compresses a vector by threshold projection. Every entry in the vector with a value below the threshold is either set to zero, or increased to the threshold. The probabilty of setting it to zero is equal to <code>abs(value) / threshold</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/compression.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.Interfaces.compress!" href="#Rimu.Interfaces.compress!"><code>Rimu.Interfaces.compress!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compress!([::CompressionStrategy,] v) -&gt; ::NTuple{N,::Symbol}, ::NTuple{N}
compress!([::CompressionStrategy,] w, v) -&gt; ::NTuple{N,::Symbol}, ::NTuple{N}</code></pre><p>Compress the vector <code>v</code>. The one-argument version compresses the vector in-place. The two-argument vector stores the result in <code>w</code>. The <a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>CompressionStrategy</code></a> associated with the <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> of <code>v</code> is used to determine the type of compression.</p><p>Returns two tuples, containing the names and values of statistics that are to be reported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/Interfaces/stochasticstyles.jl#L100-L109">source</a></section></article><h2 id="Spawning-strategies-and-convenience-functions"><a class="docs-heading-anchor" href="#Spawning-strategies-and-convenience-functions">Spawning strategies and convenience functions</a><a id="Spawning-strategies-and-convenience-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Spawning-strategies-and-convenience-functions" title="Permalink"></a></h2><p>The following functions and types are unexported, but are useful when defining new styles.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.diagonal_step!" href="#Rimu.StochasticStyles.diagonal_step!"><code>Rimu.StochasticStyles.diagonal_step!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">diagonal_step!(w, op, add, val, threshold=0) -&gt; (clones, deaths, zombies)</code></pre><p>Perform diagonal step on a walker <code>add =&gt; val</code>. Optional argument <code>threshold</code> sets the projection threshold. If <code>eltype(w)</code> is an <code>Integer</code>, the <code>val</code> is rounded to the nearest integer stochastically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L66-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.projected_deposit!" href="#Rimu.StochasticStyles.projected_deposit!"><code>Rimu.StochasticStyles.projected_deposit!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">projected_deposit!(w, add, val, parent, threshold=0)</code></pre><p>Like <a href="dictvectors.html#Rimu.Interfaces.deposit!"><code>deposit!</code></a>, but performs threshold projection before spawning. If <code>eltype(w)</code> is an <code>Integer</code>, values are stochastically rounded.</p><p>Returns the value deposited.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.spawn!" href="#Rimu.StochasticStyles.spawn!"><code>Rimu.StochasticStyles.spawn!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">spawn!(s::SpawningStrategy, w, op::AbstractHamiltonian, add, val, boost)
spawn!(s::SpawningStrategy, w, offdiags::AbstractOffdiagonals, add, val, boost)</code></pre><p>Perform stochastic spawns to <code>w</code> from address <code>add</code> with <code>val</code> walkers. <code>val * boost</code> controls the number of spawns performed.</p><p>This function should be overloaded in the second form, with <code>offdiags</code> as an argument.</p><p>See <a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L141-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.Bernoulli" href="#Rimu.StochasticStyles.Bernoulli"><code>Rimu.StochasticStyles.Bernoulli</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Bernoulli(threshold=0.0) &lt;: SpawningStrategy</code></pre><p>Perform Bernoulli sampling. A spawn is attempted on each offdiagonal element with a probability that results in an expected number of spawns equal to the number of walkers on the spawning configuration. This is significantly less efficient than <a href="stochasticstyles.html#Rimu.StochasticStyles.WithReplacement"><code>WithReplacement</code></a>.</p><p>If the number of spawn attempts is greater than the number of offdiagonals, this functions like <a href="stochasticstyles.html#Rimu.StochasticStyles.Exact"><code>Exact</code></a>, but is less efficient. For best performance, this strategy is to be used as a substrategy of <a href="stochasticstyles.html#Rimu.StochasticStyles.DynamicSemistochastic"><code>DynamicSemistochastic</code></a>.</p><p><strong>Parameters</strong></p><ul><li><code>threshold</code> sets the projection threshold.</li></ul><p><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a> with this strategy returns the number of spawn attempts and the number of spawns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L290-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.DynamicSemistochastic" href="#Rimu.StochasticStyles.DynamicSemistochastic"><code>Rimu.StochasticStyles.DynamicSemistochastic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DynamicSemistochastic(; strat, rel_threshold, abs_threshold) &lt;: SpawningStrategy</code></pre><p><a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a> that behaves like <code>strat</code> when the number of walkers is low, but performs exact steps when it is high. What &quot;high&quot; means is controlled by the two thresholds described below.</p><p><strong>Parameters</strong></p><ul><li><p><code>strat = WithReplacement()</code>: a <a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a> to use when the multiplication is not performed exactly. If the <code>strat</code> has a <code>threshold</code> different from zero, all spawns will be projected to that threshold.</p></li><li><p><code>rel_threshold = 1.0</code>: When deciding on whether to perform an exact spawn, this value is multiplied to the number of walkers. Should be set to 1 or more for best performance. This threshold is affected by the <code>boost</code> argument to <a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a>.</p></li><li><p><code>abs_threshold = Inf</code>: When deciding on whether to perform an exact spawn, <code>min(abs_threshold, num_offdiagonals)</code> is used. This threshold is not affected by the <code>boost</code> argument to <a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a>.</p></li></ul><p>See e.g. <a href="stochasticstyles.html#Rimu.StochasticStyles.WithoutReplacement"><code>WithoutReplacement</code></a> for a description of the <code>strat.threshold</code> parameter.</p><p><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a> with this strategy returns the numbers of exact and inexact spawns, the number of spawn attempts and the number of spawns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L332-L357">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.Exact" href="#Rimu.StochasticStyles.Exact"><code>Rimu.StochasticStyles.Exact</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Exact(threshold=0.0) &lt;: SpawningStrategy</code></pre><p>Perform an exact spawning step.</p><p><strong>Parameters</strong></p><ul><li><code>threshold</code> sets the projection threshold. If set to zero, no projection is performed.</li></ul><p><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a> with this strategy returns the number of spawn attempts and the number of spawns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L156-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.SingleSpawn" href="#Rimu.StochasticStyles.SingleSpawn"><code>Rimu.StochasticStyles.SingleSpawn</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SingleSpawn(threshold=0.0) &lt;: SpawningStrategy</code></pre><p>Perform a single spawn. Useful as a building block for other stochastic styles.</p><p><strong>Parameters</strong></p><ul><li><code>threshold</code> sets the projection threshold. If set to zero, no projection is performed.</li></ul><p><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a> with this strategy returns the number of spawn attempts (always 1) and the number of spawns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L184-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.SpawningStrategy" href="#Rimu.StochasticStyles.SpawningStrategy"><code>Rimu.StochasticStyles.SpawningStrategy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpawningStrategy</code></pre><p>A <code>SpawningStrategy</code> is used to control how spawns (multiplies with off-diagonal part of the column vector) are performed and can be passed to some of the <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>s as keyword arguments.</p><p>The following concrete implementations are provided:</p><ul><li><p><a href="stochasticstyles.html#Rimu.StochasticStyles.Exact"><code>Exact</code></a>: Perform exact spawns. Used by <a href="stochasticstyles.html#Rimu.StochasticStyles.IsDeterministic"><code>IsDeterministic</code></a>.</p></li><li><p><a href="stochasticstyles.html#Rimu.StochasticStyles.WithReplacement"><code>WithReplacement</code></a>: The default stochastic spawning strategy. Spawns are chosen with replacement.</p></li><li><p><a href="stochasticstyles.html#Rimu.StochasticStyles.DynamicSemistochastic"><code>DynamicSemistochastic</code></a>: Behave like <a href="stochasticstyles.html#Rimu.StochasticStyles.Exact"><code>Exact</code></a> when the number of spawns performed is high, and like a different substrategy otherwise. Used by <a href="stochasticstyles.html#Rimu.StochasticStyles.IsDynamicSemistochastic"><code>IsDynamicSemistochastic</code></a>.</p></li><li><p><a href="stochasticstyles.html#Rimu.StochasticStyles.SingleSpawn"><code>SingleSpawn</code></a>: Perform a single spawn only. Used as a building block for other strategies.</p></li><li><p><a href="stochasticstyles.html#Rimu.StochasticStyles.WithoutReplacement"><code>WithoutReplacement</code></a>: Similar to <a href="stochasticstyles.html#Rimu.StochasticStyles.WithReplacement"><code>WithReplacement</code></a>, but ensures each spawn is only performed once. Only to be used as a substrategy of <a href="stochasticstyles.html#Rimu.StochasticStyles.DynamicSemistochastic"><code>DynamicSemistochastic</code></a>.</p></li><li><p><a href="stochasticstyles.html#Rimu.StochasticStyles.Bernoulli"><code>Bernoulli</code></a>: Each spawn is attempted with a fixed probability. Only to be used as a substrategy of <a href="stochasticstyles.html#Rimu.StochasticStyles.DynamicSemistochastic"><code>DynamicSemistochastic</code></a>.</p></li></ul><p><strong>Interface</strong></p><p>In order to implement a new <code>SpawningStrategy</code>, define a method for <a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L107-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.WithReplacement" href="#Rimu.StochasticStyles.WithReplacement"><code>Rimu.StochasticStyles.WithReplacement</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WithReplacement(threshold=0.0) &lt;: SpawningStrategy</code></pre><p><a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a> where spawn targets are sampled with replacement. This is the default spawning strategy for most of the <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>s.</p><p><strong>Parameters</strong></p><ul><li><code>threshold</code> sets the projection threshold. If set to zero, no projection is performed.</li></ul><p><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a> with this strategy returns the number of spawn attempts and the number of spawns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L213-L225">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rimu.StochasticStyles.WithoutReplacement" href="#Rimu.StochasticStyles.WithoutReplacement"><code>Rimu.StochasticStyles.WithoutReplacement</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WithoutReplacement(threshold=0.0) &lt;: SpawningStrategy</code></pre><p><a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>SpawningStrategy</code></a> where spawn targets are sampled without replacement. This strategy needs to allocate a temporary array during spawning, which makes it significantly less efficient than <a href="stochasticstyles.html#Rimu.StochasticStyles.WithReplacement"><code>WithReplacement</code></a>.</p><p>If the number of spawn attempts is greater than the number of offdiagonals, this functions like <a href="stochasticstyles.html#Rimu.StochasticStyles.Exact"><code>Exact</code></a>, but is less efficient. For best performance, this strategy is to be used as a substrategy of <a href="stochasticstyles.html#Rimu.StochasticStyles.DynamicSemistochastic"><code>DynamicSemistochastic</code></a>.</p><p><strong>Parameters</strong></p><ul><li><code>threshold</code> sets the projection threshold. If set to zero, no projection is performed.</li></ul><p><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>spawn!</code></a> with this strategy returns the number of spawn attempts and the number of spawns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/RimuQMC/Rimu.jl/blob/5a4cff9d514cf41d9904fd781ba5d43fc7f2afda/src/StochasticStyles/spawning.jl#L245-L262">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="stochasticstyles.html#Rimu.StochasticStyles"><code>Rimu.StochasticStyles</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.CompressionStrategy"><code>Rimu.Interfaces.CompressionStrategy</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.NoCompression"><code>Rimu.Interfaces.NoCompression</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>Rimu.Interfaces.StochasticStyle</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.StyleUnknown"><code>Rimu.Interfaces.StyleUnknown</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.Bernoulli"><code>Rimu.StochasticStyles.Bernoulli</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.DynamicSemistochastic"><code>Rimu.StochasticStyles.DynamicSemistochastic</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.Exact"><code>Rimu.StochasticStyles.Exact</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsDeterministic"><code>Rimu.StochasticStyles.IsDeterministic</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsDynamicSemistochastic"><code>Rimu.StochasticStyles.IsDynamicSemistochastic</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochastic2Pop"><code>Rimu.StochasticStyles.IsStochastic2Pop</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticInteger"><code>Rimu.StochasticStyles.IsStochasticInteger</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.IsStochasticWithThreshold"><code>Rimu.StochasticStyles.IsStochasticWithThreshold</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.SingleSpawn"><code>Rimu.StochasticStyles.SingleSpawn</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.SpawningStrategy"><code>Rimu.StochasticStyles.SpawningStrategy</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.ThresholdCompression"><code>Rimu.StochasticStyles.ThresholdCompression</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.WithReplacement"><code>Rimu.StochasticStyles.WithReplacement</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.WithoutReplacement"><code>Rimu.StochasticStyles.WithoutReplacement</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.apply_column!"><code>Rimu.Interfaces.apply_column!</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.compress!"><code>Rimu.Interfaces.compress!</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.default_style"><code>Rimu.Interfaces.default_style</code></a></li><li><a href="stochasticstyles.html#Rimu.Interfaces.step_stats"><code>Rimu.Interfaces.step_stats</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.diagonal_step!"><code>Rimu.StochasticStyles.diagonal_step!</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.projected_deposit!"><code>Rimu.StochasticStyles.projected_deposit!</code></a></li><li><a href="stochasticstyles.html#Rimu.StochasticStyles.spawn!"><code>Rimu.StochasticStyles.spawn!</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="addresses.html">« BitString addresses</a><a class="docs-footer-nextpage" href="rimuio.html">I/O »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 5 December 2024 22:23">Thursday 5 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
