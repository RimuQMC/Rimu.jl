<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Dict vectors · Rimu.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Rimu.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Rimu.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Guide</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="generated/BHM-example.html">1D Bose-Hubbard Model</a></li><li><a class="tocitem" href="generated/BHM-example-mpi.html">Rimu with MPI</a></li><li><a class="tocitem" href="generated/G2-example.html">Calculating observables</a></li></ul></li><li><span class="tocitem">User documentation</span><ul><li><a class="tocitem" href="statstools.html">StatsTools</a></li></ul></li><li><span class="tocitem">Developer documentation</span><ul><li><a class="tocitem" href="interfaces.html">Interfaces</a></li><li><a class="tocitem" href="hamiltonians.html">Hamiltonians</a></li><li class="is-active"><a class="tocitem" href="dictvectors.html">Dict vectors</a><ul class="internal"><li><a class="tocitem" href="#Concrete-implementations"><span>Concrete implementations</span></a></li><li><a class="tocitem" href="#Interface-functions"><span>Interface functions</span></a></li><li><a class="tocitem" href="#Supported-operations"><span>Supported operations</span></a></li><li><a class="tocitem" href="#Projectors"><span>Projectors</span></a></li><li><a class="tocitem" href="#Initiator-rules"><span>Initiator rules</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="addresses.html">BitString addresses</a></li><li><a class="tocitem" href="stochasticstyles.html">Stochastic styles</a></li><li><a class="tocitem" href="RMPI.html">RMPI</a></li><li><a class="tocitem" href="consistentrng.html">Random Numbers</a></li><li><a class="tocitem" href="rimuio.html">I/O</a></li><li><a class="tocitem" href="documentation.html">Documentation generation</a></li><li><a class="tocitem" href="testing.html">Code testing</a></li></ul></li><li><a class="tocitem" href="API.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer documentation</a></li><li class="is-active"><a href="dictvectors.html">Dict vectors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="dictvectors.html">Dict vectors</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/joachimbrand/Rimu.jl/blob/develop/docs/src/dictvectors.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Module-DictVectors"><a class="docs-heading-anchor" href="#Module-DictVectors">Module <code>DictVectors</code></a><a id="Module-DictVectors-1"></a><a class="docs-heading-anchor-permalink" href="#Module-DictVectors" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors" href="#Rimu.DictVectors"><code>Rimu.DictVectors</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Module that provides concrete implementations of the <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a> interface.</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>: basic <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>: allows storing information about initiator status</li></ul><p>See <a href="interfaces.html#Rimu.Interfaces"><code>Interfaces</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/DictVectors.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.Interfaces.AbstractDVec" href="#Rimu.Interfaces.AbstractDVec"><code>Rimu.Interfaces.AbstractDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractDVec{K,V}</code></pre><p>Abstract type for data structures that behave similar to sparse vectors, but are indexed by an arbitrary type <code>V</code> (could be non-integers) similarly to dictionaries. <code>AbstractDVec</code>s  are  designed to work well with <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a> and <a href="https://github.com/Jutho/KrylovKit.jl">KrylovKit</a>.</p><p>Concrete implementations are available as <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a> and <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>.</p><p><code>AbstractDvec</code>s lie somewhere between <code>AbstractDict</code>s and sparse <code>AbstractVector</code>s, while being subtyped to neither. Generally they behave like a dictionary, while supportting various linear algebra functionality. Indexing with a value not stored in the dictionary returns <code>zero(V)</code>. Setting a stored value to 0 or below <code>eps(V::AbstractFloat)</code> removes the value from the dictionary. Their <code>length</code> signals the number of stored elements, not the size of the vector space.</p><p>They have a <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> which selects the spawning algorithm in <code>FCIQMC</code>.</p><p>To iterate over an <code>AbstractDVec</code>, use <code>keys</code>, <code>pairs</code>, or <code>values</code>.</p><p><strong>Interface</strong></p><p>The interface is similar to the <code>AbstractDict</code> interface, but with the changed behaviour as noted above. Implement what would be needed for the <code>AbstractDict</code> interface (<code>pairs</code>, <code>keys</code>, <code>values</code>, <code>setindex!, getindex, delete!, length, haskey, empty!, isempty</code>) and, in addition:</p><ul><li><a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.storage"><code>storage</code></a> returns an <code>AbstractDict</code> storing the raw data with possibly different <code>valtype</code> than <code>V</code>.</li><li><a href="dictvectors.html#Rimu.Interfaces.deposit!"><code>deposit!</code></a></li></ul><p>See also <a href="dictvectors.html#Rimu.DictVectors"><code>DictVectors</code></a>, <a href="interfaces.html#Rimu.Interfaces"><code>Interfaces</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/Interfaces/dictvectors.jl#L1-L36">source</a></section></article><h2 id="Concrete-implementations"><a class="docs-heading-anchor" href="#Concrete-implementations">Concrete implementations</a><a id="Concrete-implementations-1"></a><a class="docs-heading-anchor-permalink" href="#Concrete-implementations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.DVec" href="#Rimu.DictVectors.DVec"><code>Rimu.DictVectors.DVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DVec{K,V,D&lt;:AbstractDict{K,V},S}</code></pre><p>Dictionary-based vector-like data structure for use with FCIQMC and <a href="https://github.com/Jutho/KrylovKit.jl">KrylovKit</a>. While mostly behaving like a <code>Dict</code>, it supports various linear algebra operations such as <code>norm</code> and <code>dot</code>. It has a <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a> that is used to select an appropriate spawning strategy in the FCIQMC algorithm.</p><p>See also: <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>.</p><p><strong>Constructors</strong></p><ul><li><p><code>DVec(dict::AbstractDict[; style, capacity])</code>: create a <code>DVec</code> with <code>dict</code> for storage. Note that the data may or may not be copied.</p></li><li><p><code>DVec(args...[; style, capacity])</code>: <code>args...</code> are passed to the <code>Dict</code> constructor. The <code>Dict</code> is used for storage.</p></li><li><p><code>DVec{K,V}([; style, capacity])</code>: create an empty <code>DVec{K,V}</code>.</p></li><li><p><code>DVec(dv::AbstractDVec[; style, capacity])</code>: create a <code>DVec</code> with the same contents as  <code>adv</code>. The <code>style</code> is inherited from <code>dv</code> by default.</p></li></ul><p>The default <code>style</code> is selected based on the <code>DVec</code>&#39;s <code>valtype</code> (see <a href="stochasticstyles.html#Rimu.Interfaces.default_style"><code>default_style</code></a>). If a style is given and the <code>valtype</code> does not match the <code>style</code>&#39;s <code>eltype</code>, the values are converted to an appropriate type.</p><p>The capacity argument is optional and sets the initial size of the <code>DVec</code> via <code>Base.sizehint!</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; dv = DVec(:a =&gt; 1)
DVec{Symbol,Int64} with 1 entry, style = IsStochasticInteger{Int64}()
  :a =&gt; 1

julia&gt; dv = DVec(:a =&gt; 2, :b =&gt; 3; style=IsDeterministic())
DVec{Symbol,Float64} with 2 entries, style = IsDeterministic{Float64}()
  :a =&gt; 2.0
  :b =&gt; 3.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/dvec.jl#L1-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.InitiatorDVec" href="#Rimu.DictVectors.InitiatorDVec"><code>Rimu.DictVectors.InitiatorDVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InitiatorDVec{K,V} &lt;: AbstractDVec{K,V}</code></pre><p>Dictionary-based vector-like data structure for use with <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a> and <a href="https://github.com/Jutho/KrylovKit.jl"><code>KrylovKit.jl</code></a>. See <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>. Functionally identical to <a href="dictvectors.html#Rimu.DictVectors.DVec"><code>DVec</code></a>, but contains <a href="dictvectors.html#Rimu.DictVectors.InitiatorValue"><code>InitiatorValue</code></a>s internally in order to facilitate initiator methods. How the initiators are handled is controlled by the <code>initiator</code> keyword argument (see below).</p><p><strong>Constructors</strong></p><ul><li><p><code>InitiatorDVec(dict::AbstractDict[; style, initiator, capacity])</code>: create an <code>InitiatorDVec</code> with <code>dict</code> for storage.  Note that the data may or may not be copied.</p></li><li><p><code>InitiatorDVec(args...[; style, initiator, capacity])</code>: <code>args...</code> are passed to the <code>Dict</code> constructor. The <code>Dict</code> is used for storage.</p></li><li><p><code>InitiatorDVec{K,V}([; style, initiator, capacity])</code>: create an empty <code>InitiatorDVec{K,V}</code>.</p></li><li><p><code>InitiatorDVec(dv::AbstractDVec[; style, initiator, capacity])</code>: create an <code>InitiatorDVec</code>  with the same contents as <code>dv</code>. The <code>style</code> is inherited from <code>dv</code> by default.</p></li></ul><p><strong>Keyword  arguments</strong></p><ul><li><p><code>style</code>: A valid <a href="stochasticstyles.html#Rimu.Interfaces.StochasticStyle"><code>StochasticStyle</code></a>.  The default is selected based on the <code>InitiatorDVec</code>&#39;s <code>valtype</code> (see <a href="stochasticstyles.html#Rimu.Interfaces.default_style"><code>default_style</code></a>). If a style is given and the <code>valtype</code> does not match the <code>style</code>&#39;s <code>eltype</code>, the values are converted to an appropriate type.</p></li><li><p><code>initiator = Initiator(1)</code>: A valid <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>. See <a href="dictvectors.html#Rimu.DictVectors.Initiator"><code>Initiator</code></a>.</p></li><li><p><code>capacity</code>: Indicative size as <code>Int</code>. Optional. Sets the initial size of the <code>InitiatorDVec</code> via <code>Base.sizehint!</code>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L125-L159">source</a></section></article><h2 id="Interface-functions"><a class="docs-heading-anchor" href="#Interface-functions">Interface functions</a><a id="Interface-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Interface-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Rimu.Interfaces.deposit!" href="#Rimu.Interfaces.deposit!"><code>Rimu.Interfaces.deposit!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">deposit!(w::AbstractDVec, add, val, parent::Pair)</code></pre><p>Add <code>val</code> into <code>w</code> at address <code>add</code>, taking into account initiator rules if applicable. <code>parent</code> contains the <code>address =&gt; value</code> pair from which the pair <code>add =&gt; val</code> was created. <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a> can intercept this and add its own functionality.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/Interfaces/dictvectors.jl#L39-L45">source</a></section><section><div><pre><code class="nohighlight hljs">deposit!(w::InitiatorDVec, add, val, p_add=&gt;p_val)</code></pre><p>Add <code>val</code> into <code>w</code> at address <code>add</code> as an <a href="dictvectors.html#Rimu.DictVectors.InitiatorValue"><code>InitiatorValue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L267-L270">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.Interfaces.storage" href="#Rimu.Interfaces.storage"><code>Rimu.Interfaces.storage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">storage(dvec) -&gt; AbstractDict</code></pre><p>Return the raw storage associated with <code>dvec</code> as an <code>AbstractDict</code>. Used in MPI communication.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/Interfaces/dictvectors.jl#L58-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OrderedCollections.freeze" href="#OrderedCollections.freeze"><code>OrderedCollections.freeze</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">freeze(dv)</code></pre><p>Create a &quot;frozen&quot; version of <code>dv</code> which can no longer be modified or used in the conventional manner, but supports faster dot products.</p><p>If <code>dv</code> is an <a href="RMPI.html#Rimu.RMPI.MPIData"><code>MPIData</code></a>, synchronize its contents among the ranks first.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/Interfaces/dictvectors.jl#L68-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.Interfaces.localpart" href="#Rimu.Interfaces.localpart"><code>Rimu.Interfaces.localpart</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">localpart(dv) -&gt; AbstractDVec</code></pre><p>Get the part of <code>dv</code> that is located on this MPI rank. Returns <code>dv</code> itself for <code>AbstractDVec</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/Interfaces/dictvectors.jl#L50-L55">source</a></section></article><h2 id="Supported-operations"><a class="docs-heading-anchor" href="#Supported-operations">Supported operations</a><a id="Supported-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-operations" title="Permalink"></a></h2><p><a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>s generally support most operations that are defined on <code>Vector</code>s and <code>Dict</code>s. This includes common linear algebra operations such as <code>dot</code> or <code>norm</code>.</p><p>A significant difference between <a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>AbstractDVec</code></a>s, <code>Vector</code>s, and <code>Dict</code>s, is that iteration on them is disabled by default. Iteration must be explicitly performed on <code>keys</code>, <code>calues</code>, or <code>pairs</code>, however, it is highly recommended you use <code>mapreduce</code>, <code>reduce</code>, or similar functions when performing reductions, as that will make the operations compatible with MPI.</p><p>In addition, Rimu defines the following functions.</p><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.zero!" href="#Rimu.DictVectors.zero!"><code>Rimu.DictVectors.zero!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">zero!(v)</code></pre><p>Replace <code>v</code> by a zero vector as an inplace operation. For <code>AbstractDVec</code> types it means removing all non-zero elements. For <code>AbstractArrays</code>, it sets all of the values to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L37-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.add!" href="#Rimu.DictVectors.add!"><code>Rimu.DictVectors.add!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add!(x::AbstractDVec,y::AbstactDVec)</code></pre><p>Inplace add <code>x+y</code> and store result in <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.walkernumber" href="#Rimu.DictVectors.walkernumber"><code>Rimu.DictVectors.walkernumber</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">walkernumber(md::MPIData)</code></pre><p>Compute the walkernumber of the distributed data on every MPI rank with <code>MPI.Allreduce</code>. MPI syncronizing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/RMPI/mpidata.jl#L124-L129">source</a></section><section><div><pre><code class="nohighlight hljs">walkernumber(w)</code></pre><p>Compute the number of walkers in <code>w</code>. It is used for updating the shift. Overload this function for modifying population control.</p><p>In most cases <code>walkernumber(w)</code> is identical to <code>norm(w,1)</code>. For <code>AbstractDVec</code>s with complex coefficients it reports the one norm separately for the real and the imaginary part as a <code>ComplexF64</code>. See <a href="dictvectors.html#Rimu.DictVectors.Norm1ProjectorPPop"><code>Norm1ProjectorPPop</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L292-L301">source</a></section></article><h2 id="Projectors"><a class="docs-heading-anchor" href="#Projectors">Projectors</a><a id="Projectors-1"></a><a class="docs-heading-anchor-permalink" href="#Projectors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.AbstractProjector" href="#Rimu.DictVectors.AbstractProjector"><code>Rimu.DictVectors.AbstractProjector</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract supertype for projectors to be used in in lieu of DVecs or Vectors in <code>dot</code> products. Implemented subtypes:</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.UniformProjector"><code>UniformProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NormProjector"><code>NormProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm2Projector"><code>Norm2Projector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm1ProjectorPPop"><code>Norm1ProjectorPPop</code></a></li></ul><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a> for use of projectors in <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a>.</p><p><strong>Interface</strong></p><p>Define a method for <code>LinearAlgebra.dot(projector, v)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L173-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.NormProjector" href="#Rimu.DictVectors.NormProjector"><code>Rimu.DictVectors.NormProjector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NormProjector() &lt;: AbstractProjector</code></pre><p>Results in computing the one-norm when used in <code>dot()</code>. E.g.</p><pre><code class="language-julia hljs">dot(NormProjector(),x)
-&gt; norm(x,1)</code></pre><p><code>NormProjector()</code> thus represents the vector <code>sign.(x)</code>.</p><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L210-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.Norm2Projector" href="#Rimu.DictVectors.Norm2Projector"><code>Rimu.DictVectors.Norm2Projector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Norm2Projector() &lt;: AbstractProjector</code></pre><p>Results in computing the two-norm when used in <code>dot()</code>. E.g.</p><pre><code class="language-julia hljs">dot(NormProjector(),x)
-&gt; norm(x,2) # with type Float64</code></pre><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L226-L236">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.UniformProjector" href="#Rimu.DictVectors.UniformProjector"><code>Rimu.DictVectors.UniformProjector</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UniformProjector() &lt;: AbstractProjector</code></pre><p>Represents a vector with all elements 1. To be used with <a href="hamiltonians.html#LinearAlgebra.dot"><code>dot()</code></a>. Minimizes memory allocations.</p><pre><code class="language-julia hljs">UniformProjector()⋅v == sum(v)
dot(UniformProjector(), LO, v) == sum(LO*v)</code></pre><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L190-L202">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.Norm1ProjectorPPop" href="#Rimu.DictVectors.Norm1ProjectorPPop"><code>Rimu.DictVectors.Norm1ProjectorPPop</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Norm1ProjectorPPop() &lt;: AbstractProjector</code></pre><p>Results in computing the one-norm per population when used in <code>dot()</code>. E.g.</p><pre><code class="language-julia hljs">dot(Norm1ProjectorPPop(),x)
-&gt; norm(real.(x),1) + im*norm(imag.(x),1)</code></pre><p>See also <a href="API.html#Rimu.PostStepStrategy"><code>PostStepStrategy</code></a>, and <a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>AbstractProjector</code></a> for use of projectors in <a href="API.html#Rimu.lomc!-Tuple{Any, Any}"><code>lomc!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/abstractdvec.jl#L243-L253">source</a></section></article><h2 id="Initiator-rules"><a class="docs-heading-anchor" href="#Initiator-rules">Initiator rules</a><a id="Initiator-rules-1"></a><a class="docs-heading-anchor-permalink" href="#Initiator-rules" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.InitiatorRule" href="#Rimu.DictVectors.InitiatorRule"><code>Rimu.DictVectors.InitiatorRule</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InitiatorRule{V}</code></pre><p>Abstract type for defining initiator rules for <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. Concrete implementations:</p><ul><li><a href="dictvectors.html#Rimu.DictVectors.Initiator"><code>Initiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.SimpleInitiator"><code>SimpleInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.CoherentInitiator"><code>CoherentInitiator</code></a></li></ul><p>When defining a new <code>InitiatorRule</code>, also define a corresponding method for <a href="dictvectors.html#Rimu.DictVectors.value"><code>value</code></a>!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L36-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.InitiatorValue" href="#Rimu.DictVectors.InitiatorValue"><code>Rimu.DictVectors.InitiatorValue</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InitiatorValue{V}(; safe::V, unsafe::V, initiator::V) where V</code></pre><p>Composite &quot;walker&quot; with three fields. For use with <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.value" href="#Rimu.DictVectors.value"><code>Rimu.DictVectors.value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">value(i::InitiatorRule, v::InitiatorValue)</code></pre><p>Convert the <a href="dictvectors.html#Rimu.DictVectors.InitiatorValue"><code>InitiatorValue</code></a> <code>v</code> into a scalar value according to the <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a> <code>i</code>.</p><p>Internal function that implements functionality of <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L50-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.Initiator" href="#Rimu.DictVectors.Initiator"><code>Rimu.DictVectors.Initiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Initiator(threshold) &lt;: InitiatorRule</code></pre><p>Initiator rule to be passed to <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. An initiator is a configuration <code>add</code> with a coefficient with magnitude <code>abs(v[add]) &gt; threshold</code>. Rules:</p><ul><li>Initiators can spawn anywhere.</li><li>Non-initiators can spawn to initiators.</li></ul><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L59-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.SimpleInitiator" href="#Rimu.DictVectors.SimpleInitiator"><code>Rimu.DictVectors.SimpleInitiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SimpleInitiator(threshold) &lt;: InitiatorRule</code></pre><p>Simplified initiator rule to be passed to <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. An initiator is a configuration <code>add</code> with a coefficient with magnitude <code>abs(v[add]) &gt; threshold</code>. Rules:</p><ul><li>Initiators can spawn anywhere.</li><li>Non-initiators cannot spawn.</li></ul><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L78-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Rimu.DictVectors.CoherentInitiator" href="#Rimu.DictVectors.CoherentInitiator"><code>Rimu.DictVectors.CoherentInitiator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CoherentInitiator(threshold) &lt;: InitiatorRule</code></pre><p>Initiator rule to be passed to <a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>InitiatorDVec</code></a>. An initiator is a configuration <code>add</code> with a coefficient with magnitude <code>abs(v[add]) &gt; threshold</code>. Rules:</p><ul><li><p>Initiators can spawn anywhere.</p></li><li><p>Non-initiators can spawn to initiators.</p></li><li><p>Multiple non-initiators can spawn to a single non-initiator if their contributions add up to a value greater than the initiator threshold.</p><p>See <a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>InitiatorRule</code></a>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/joachimbrand/Rimu.jl/blob/8f6d7a40deb452438b6d7e51a24b5494d9fcf0b3/src/DictVectors/initiators.jl#L98-L112">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="dictvectors.html#Rimu.DictVectors"><code>Rimu.DictVectors</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.AbstractProjector"><code>Rimu.DictVectors.AbstractProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.CoherentInitiator"><code>Rimu.DictVectors.CoherentInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.DVec"><code>Rimu.DictVectors.DVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Initiator"><code>Rimu.DictVectors.Initiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorDVec"><code>Rimu.DictVectors.InitiatorDVec</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorRule"><code>Rimu.DictVectors.InitiatorRule</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.InitiatorValue"><code>Rimu.DictVectors.InitiatorValue</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm1ProjectorPPop"><code>Rimu.DictVectors.Norm1ProjectorPPop</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.Norm2Projector"><code>Rimu.DictVectors.Norm2Projector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.NormProjector"><code>Rimu.DictVectors.NormProjector</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.SimpleInitiator"><code>Rimu.DictVectors.SimpleInitiator</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.UniformProjector"><code>Rimu.DictVectors.UniformProjector</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.AbstractDVec"><code>Rimu.Interfaces.AbstractDVec</code></a></li><li><a href="dictvectors.html#OrderedCollections.freeze"><code>OrderedCollections.freeze</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.add!"><code>Rimu.DictVectors.add!</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.value"><code>Rimu.DictVectors.value</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.walkernumber"><code>Rimu.DictVectors.walkernumber</code></a></li><li><a href="dictvectors.html#Rimu.DictVectors.zero!"><code>Rimu.DictVectors.zero!</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.deposit!"><code>Rimu.Interfaces.deposit!</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.localpart"><code>Rimu.Interfaces.localpart</code></a></li><li><a href="dictvectors.html#Rimu.Interfaces.storage"><code>Rimu.Interfaces.storage</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="hamiltonians.html">« Hamiltonians</a><a class="docs-footer-nextpage" href="addresses.html">BitString addresses »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 29 September 2022 18:35">Thursday 29 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
